(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{21:function(e,t,n){e.exports={total:"Balance_total__2uVBj",total__amount:"Balance_total__amount__3G5j7"}},22:function(e,t,n){e.exports={addNewItem:"NewTransaction_addNewItem__OT3ii"}},35:function(e,t,n){},37:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},6:function(e,t,n){e.exports={transactions:"Transactions_transactions__3vaMW",transactions__header:"Transactions_transactions__header__LSoP_",trans_buttons:"Transactions_trans_buttons__iVP9m",trans_edit:"Transactions_trans_edit__1KUhY",trans_save:"Transactions_trans_save__1u0IM",transactions__list:"Transactions_transactions__list__2m749",positive:"Transactions_positive__3q4A4",negative:"Transactions_negative__3q3uO",trans_date:"Transactions_trans_date__2eGc2",trans_title:"Transactions_trans_title__3dooC",trans_amount:"Transactions_trans_amount__3b4il",trans_delete:"Transactions_trans_delete__1q48H"}},65:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(20),a=n.n(c),r=n(4),i=(n(35),n(3));function o(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}function j(e,t){localStorage.setItem(e,JSON.stringify(t))}var l=n(21),u=n.n(l),b=Object(s.createContext)({transactions:[],setTransactions:function(){}}),d=Object(s.createContext)({loggedIn:!1,setLoggedIn:function(){}}),O=Object(s.createContext)({menuOpened:!1,setMenuToggle:function(){}}),x=n(0);function h(){var e=Object(s.useContext)(b).transactions.reduce((function(e,t){return e+t.amount}),0);return Object(x.jsxs)("section",{className:u.a.total,children:[Object(x.jsx)("p",{className:"section-title",children:"Total balance:"}),Object(x.jsx)("p",{className:u.a.total__amount,children:e})]})}n(37);function m(){var e=Object(s.useContext)(b).transactions;var t=function(){var t=0,n=0;return e.forEach((function(e){e.amount>0?t+=e.amount:n-=e.amount})),[t,n]}(),n=Object(r.a)(t,2),c=n[0],a=n[1];return Object(x.jsx)("section",{className:"watcher",children:Object(x.jsxs)("div",{className:"watcher__container",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"Income"}),Object(x.jsx)("span",{className:"amount income",children:c})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"Expense"}),Object(x.jsx)("span",{className:"amount expense",children:a})]})]})})}var _=n(13),p=n(8),f=n(6),v=n.n(f);function g(){var e=Object(s.useReducer)((function(e){return!e})),t=Object(r.a)(e,2),n=t[0],c=t[1];var a=Object(s.useContext)(b),i=a.transactions,o=a.setTransactions;return Object(x.jsxs)("section",{className:v.a.transactions,children:[Object(x.jsxs)("div",{className:v.a.transactions__header,children:[Object(x.jsx)("p",{className:"section-title",children:"Transactions"}),Object(x.jsx)("div",{className:v.a.trans_buttons,children:i.length>0&&(n&&i.length>0?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("button",{title:"Clear All",className:v.a.trans_save,onClick:function(){o([]),c()},children:["Clear All ",Object(x.jsx)(p.f,{})]}),Object(x.jsxs)("button",{title:"Save",className:v.a.trans_save,onClick:c,children:["Save ",Object(x.jsx)(p.d,{})]})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("button",{title:"Edit",className:v.a.trans_edit,onClick:c,children:["Edit",Object(x.jsx)(p.b,{})]})}))})]}),Object(x.jsx)("ul",{className:v.a.transactions__list,children:i.map((function(e){var t=new Date(e.created).toLocaleDateString("en-US");return Object(x.jsxs)("li",{className:e.amount<0?v.a.negative:v.a.positive,children:[Object(x.jsx)("span",{className:v.a.trans_date,children:t}),Object(x.jsx)("span",{className:v.a.trans_title,children:e.title}),Object(x.jsx)("span",{className:v.a.trans_amount,children:e.amount}),n&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("button",{className:v.a.trans_delete,onClick:function(){return function(e){var t=Object(_.a)(i).filter((function(t){return t!==e}));o(Object(_.a)(t))}(e)},children:["Delete ",Object(x.jsx)(p.g,{})]})})]},e.id)}))})]})}var N=n(28),T=n.n(N);function C(){var e=new Date;return"".concat(e.getFullYear()).concat(y(e.getMonth()+1)).concat(y(e.getDate()),"_").concat(y(e.getHours())).concat(y(e.getMinutes())).concat(y(e.getSeconds()))}function y(e){return e<10?"0".concat(e):"".concat(e)}var k=n(22),w=n.n(k);function S(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),o=i[0],j=i[1],l=Object(s.useContext)(b),u=l.transactions,d=l.setTransactions,O=Object(s.useReducer)((function(e){return!e}),!1),h=Object(r.a)(O,2),m=h[0],p=h[1];return Object(x.jsxs)("section",{className:w.a.addNewItem,children:[Object(x.jsx)("button",{className:"primary",type:"submit",onClick:p,children:"Add new item"}),Object(x.jsxs)(T.a,{isOpen:m,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:p,className:w.a.addNewItem,style:{overlay:{backgroundColor:"rgba(238, 238, 238, 0.7)"},content:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"#282828",borderRadius:"5px",border:"1px solid #424242",outline:"none",padding:"20px",width:"calc(100% - 30px)",maxWidth:"400px",boxSizing:"border-box"}},children:[Object(x.jsx)("p",{className:"section-title",children:"Add new item"}),Object(x.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n&&o){var t=parseInt(o,10),s={id:C(),title:n,amount:t,created:(new Date).getTime()};c(""),j(""),d([].concat(Object(_.a)(u),[s])),p()}},children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Title:"}),Object(x.jsx)("input",{autoFocus:!0,placeholder:"Item name",name:"title",type:"text",value:n,onChange:function(e){c(e.target.value)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Amount:"}),Object(x.jsx)("input",{placeholder:"Item cost",name:"amount",type:"number",value:o,onChange:function(e){j(e.target.value)}})]}),Object(x.jsx)("button",{className:"primary",type:"submit",children:"Add new item"})]})]})]})}n(49);function I(){var e,t=null===(e=o("__login")[0])||void 0===e?void 0:e.userName,n=Object(s.useState)(o(t)),c=Object(r.a)(n,2),a=c[0],i=c[1],l=Object(s.useMemo)((function(){return{transactions:a,setTransactions:i}}),[a]);return Object(s.useEffect)((function(){j(t,a)}),[a,t]),Object(x.jsx)("div",{className:"expense-tracker",children:Object(x.jsxs)(b.Provider,{value:l,children:[Object(x.jsx)(h,{}),Object(x.jsx)(m,{}),Object(x.jsx)(g,{}),Object(x.jsx)(S,{})]})})}n(50);function E(){return Object(x.jsxs)("div",{className:"error-404",children:[Object(x.jsx)("div",{className:"background"}),Object(x.jsxs)("div",{className:"error-text",children:[Object(x.jsx)("h2",{children:"Error 404"}),Object(x.jsx)("p",{children:"The page does not exist!"})]})]})}n(51);function L(){return Object(x.jsxs)("div",{className:"loginError",children:[Object(x.jsxs)("h2",{children:["Welcome to",Object(x.jsx)("br",{})," Expense Tracker"]}),Object(x.jsx)("p",{children:"This app is for those who like to keep track of what they spent their money on"}),Object(x.jsx)("p",{children:"Please Login to use"})]})}n(52);function M(){return Object(x.jsx)("div",{className:"loadingScreen",children:Object(x.jsx)("span",{className:"icon",children:Object(x.jsx)(p.a,{})})})}var A=n(10);n(53);n(54);function P(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),l=i[0],u=i[1],b=Object(s.useState)(!0),h=Object(r.a)(b,2),m=h[0],_=h[1],f=Object(s.useContext)(d),v=f.login,g=f.setLogin,N=Object(s.useContext)(O).setMenuToggle;function T(e){e.preventDefault();var t=function(e){var t=e.username;return e.password,t}({username:n,password:l});t?(_(!0),g(!1),j("__login",[{userName:n}])):_(!1)}var C=function(){j("__login",[]),g(!0)};return v?Object(x.jsxs)("div",{className:"loginInner loginBox",children:[Object(x.jsx)("h2",{children:"Login"}),Object(x.jsx)("span",{className:"error",children:!m&&"Username/password invalid"}),Object(x.jsxs)("form",{onSubmit:T,children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"User name:"}),Object(x.jsx)("input",{name:"username",type:"text",value:n,onChange:function(e){c(e.target.value),_(!0)},autoFocus:!0})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Password:"}),Object(x.jsx)("input",{name:"password",type:"password",value:l,onChange:function(e){u(e.target.value),_(!0)}})]}),Object(x.jsx)("button",{type:"submit",className:"primary",children:"Login"})]})]}):function(){var e,t=null===(e=o("__login")[0])||void 0===e?void 0:e.userName;return Object(x.jsxs)("div",{className:"loginInner",children:[Object(x.jsx)("h2",{children:"Profile"}),Object(x.jsxs)("p",{children:["User: ",t]}),Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)(A.b,{to:"/monthly-transactions",onClick:N,children:Object(x.jsxs)("button",{type:"button",className:"neutral",children:[Object(x.jsx)("span",{className:"button-icon",children:Object(x.jsx)(p.e,{})}),"Transactions by month"]})}),Object(x.jsxs)("button",{type:"button",onClick:C,className:"neutral",children:[Object(x.jsx)("span",{className:"button-icon",children:Object(x.jsx)(p.c,{style:{transform:"rotate(180deg)"}})}),"Logout"]})]})]})}()}function D(){var e=Object(s.useContext)(d).login,t=Object(s.useReducer)((function(e){return!e}),!0),n=Object(r.a)(t,2),c=n[0],a=n[1],i=Object(s.useMemo)((function(){return{menuOpened:c,setMenuToggle:a}}),[c]);return Object(s.useEffect)((function(){a()}),[e]),Object(x.jsxs)("header",{children:[Object(x.jsx)("h1",{className:"title",children:Object(x.jsx)(A.b,{to:"/",children:"Expense Tracker"})}),Object(x.jsxs)("div",{className:"login-container",children:[e&&Object(x.jsx)("button",{className:"register-button neutral",children:"Register"}),Object(x.jsxs)("button",{className:"login-button primary",onClick:a,children:[Object(x.jsx)("span",{className:"button-icon",children:Object(x.jsx)(p.h,{})}),e?"Login":"Profile"]}),Object(x.jsx)(O.Provider,{value:i,children:c&&Object(x.jsx)(P,{})})]})]})}function F(){return Object(x.jsx)("footer",{children:Object(x.jsxs)("p",{children:["Copyright: szalokia [","0.1.2","]"]})})}var R=function(){var e=Object(s.useState)(!o("__login")[0]),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!0),j=Object(r.a)(a,2),l=j[0],u=j[1],b=Object(s.useMemo)((function(){return{login:n,setLogin:c}}),[n]);return Object(s.useEffect)((function(){setTimeout((function(){u(!1)}),1e3)}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"Background"}),Object(x.jsxs)("div",{className:"App",children:[l&&Object(x.jsx)(M,{}),Object(x.jsxs)(d.Provider,{value:b,children:[Object(x.jsx)(D,{}),Object(x.jsx)("main",{children:Object(x.jsxs)(i.d,{children:[n&&Object(x.jsx)(L,{}),Object(x.jsx)(i.a,{exact:!0,from:"/",to:"/home"}),Object(x.jsx)(i.b,{path:"/home",children:n?Object(x.jsx)(L,{}):Object(x.jsx)(I,{})}),Object(x.jsx)(i.b,{path:"/monthly-transactions",children:"MONTHLY TRANSACTION"}),Object(x.jsx)(i.b,{path:"*",children:Object(x.jsx)(E,{})})]})}),Object(x.jsx)(F,{})]})]})]})};n(61).config(),a.a.render(Object(x.jsx)(A.a,{children:Object(x.jsx)(R,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.ea2d2656.chunk.js.map