(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{19:function(e,t,n){e.exports={total:"Balance_total__3NDOU",total__amount:"Balance_total__amount__j_vB0"}},23:function(e,t,n){e.exports={addNewItem:"NewTransaction_addNewItem__2xHaX"}},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(22),a=n.n(c),r=n(4),i=(n(30),n(3));function o(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}function j(e,t){localStorage.setItem(e,JSON.stringify(t))}var l=n(19),u=n.n(l),b=Object(s.createContext)({transactions:[],setTransactions:function(){}}),d=Object(s.createContext)({loggedIn:!1,setLoggedIn:function(){}}),O=n(0);function x(){var e=Object(s.useContext)(b).transactions.reduce((function(e,t){return e+t.amount}),0);return Object(O.jsxs)("section",{className:u.a.total,children:[Object(O.jsx)("p",{className:"section-title",children:"Total balance:"}),Object(O.jsx)("p",{className:u.a.total__amount,children:e})]})}n(32);function h(){var e=Object(s.useContext)(b).transactions;var t=function(){var t=0,n=0;return e.forEach((function(e){e.amount>0?t+=e.amount:n-=e.amount})),[t,n]}(),n=Object(r.a)(t,2),c=n[0],a=n[1];return Object(O.jsx)("section",{className:"watcher",children:Object(O.jsxs)("div",{className:"watcher__container",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Income"}),Object(O.jsx)("span",{className:"amount income",children:c})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Expense"}),Object(O.jsx)("span",{className:"amount expense",children:a})]})]})})}var _=n(12),m=n(8),f=n(6),p=n.n(f);function v(){var e=Object(s.useReducer)((function(e){return!e})),t=Object(r.a)(e,2),n=t[0],c=t[1];var a=Object(s.useContext)(b),i=a.transactions,o=a.setTransactions;return Object(O.jsxs)("section",{className:p.a.transactions,children:[Object(O.jsxs)("div",{className:p.a.transactions__header,children:[Object(O.jsx)("p",{className:"section-title",children:"Transactions"}),i.length>0&&(n&&i.length>0?Object(O.jsxs)("div",{className:p.a.trans_buttons,children:[Object(O.jsxs)("button",{className:p.a.trans_save,onClick:function(){o([]),c()},children:["Clear All ",Object(O.jsx)(m.e,{})]}),Object(O.jsxs)("button",{className:p.a.trans_save,onClick:c,children:["Save ",Object(O.jsx)(m.d,{})]})]}):Object(O.jsxs)("button",{className:p.a.trans_edit,onClick:c,children:["Edit",Object(O.jsx)(m.b,{})]}))]}),Object(O.jsx)("ul",{className:p.a.transactions__list,children:i.map((function(e){var t=new Date(e.created).toLocaleDateString("en-US");return Object(O.jsxs)("li",{className:e.amount<0?p.a.negative:p.a.positive,children:[Object(O.jsx)("span",{className:p.a.trans_date,children:t}),Object(O.jsx)("span",{className:p.a.trans_title,children:e.title}),Object(O.jsx)("span",{className:p.a.trans_amount,children:e.amount}),n&&Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("button",{className:p.a.trans_delete,onClick:function(){return function(e){var t=Object(_.a)(i).filter((function(t){return t!==e}));o(Object(_.a)(t))}(e)},children:["Delete ",Object(O.jsx)(m.f,{})]})})]},e.id)}))})]})}function g(){var e=new Date;return"".concat(e.getFullYear()).concat(N(e.getMonth()+1)).concat(N(e.getDate()),"_").concat(N(e.getHours())).concat(N(e.getMinutes())).concat(N(e.getSeconds()))}function N(e){return e<10?"0".concat(e):"".concat(e)}var T=n(23),C=n.n(T);function w(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),o=i[0],j=i[1],l=Object(s.useContext)(b),u=l.transactions,d=l.setTransactions;return Object(O.jsxs)("section",{className:C.a.addNewItem,children:[Object(O.jsx)("p",{className:"section-title",children:"Add new item"}),Object(O.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n&&o){var t=parseInt(o,10),s={id:g(),title:n,amount:t,created:(new Date).getTime()};c(""),j(""),d([].concat(Object(_.a)(u),[s]))}},children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"Title:"}),Object(O.jsx)("input",{name:"title",type:"text",value:n,onChange:function(e){c(e.target.value)}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"Amount:"}),Object(O.jsx)("input",{name:"amount",type:"number",value:o,onChange:function(e){j(e.target.value)}})]}),Object(O.jsx)("button",{className:"primary",type:"submit",children:"Add new item"})]})]})}n(33);function S(){var e,t=null===(e=o("__login")[0])||void 0===e?void 0:e.userName,n=Object(s.useState)(o(t)),c=Object(r.a)(n,2),a=c[0],i=c[1],l=Object(s.useMemo)((function(){return{transactions:a,setTransactions:i}}),[a]);return Object(s.useEffect)((function(){j(t,a)}),[a,t]),Object(O.jsx)("div",{className:"expense-tracker",children:Object(O.jsxs)(b.Provider,{value:l,children:[Object(O.jsx)(x,{}),Object(O.jsx)(h,{}),Object(O.jsx)(v,{}),Object(O.jsx)(w,{})]})})}n(34);function k(){return Object(O.jsx)("div",{className:"error-404",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Error 404"}),Object(O.jsx)("p",{children:"The page does not exist!"})]})})}function I(){return Object(O.jsx)("h2",{children:"To use this app, please login"})}n(35);function y(){return Object(O.jsxs)("div",{className:"loadingScreen",children:[Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)(m.a,{})}),Object(O.jsx)("h2",{children:"Loading"})]})}n(36);n(37);function D(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),l=i[0],u=i[1],b=Object(s.useState)(!0),x=Object(r.a)(b,2),h=x[0],_=x[1],f=Object(s.useContext)(d),p=f.login,v=f.setLogin;function g(e){e.preventDefault();var t=function(e){var t=e.username,n=e.password;return t&&n}({username:n,password:l});t?(_(!0),v(!1),j("__login",[{userName:n}])):_(!1)}var N=function(){j("__login",[]),v(!0)};return p?Object(O.jsxs)("div",{className:"loginInner",children:[Object(O.jsx)("h2",{children:"Login"}),Object(O.jsx)("span",{className:"error",children:!h&&"Username/password invalid"}),Object(O.jsxs)("form",{onSubmit:g,children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"User name:"}),Object(O.jsx)("input",{name:"username",type:"text",value:n,onChange:function(e){c(e.target.value),_(!0)}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"Password:"}),Object(O.jsx)("input",{name:"password",type:"password",value:l,onChange:function(e){u(e.target.value),_(!0)}})]}),Object(O.jsx)("button",{type:"submit",children:"Login"})]})]}):function(){var e,t=null===(e=o("__login")[0])||void 0===e?void 0:e.userName;return Object(O.jsxs)("div",{className:"loginInner",children:[Object(O.jsx)("h2",{children:"Profile"}),Object(O.jsxs)("p",{children:["User name: ",t]}),Object(O.jsxs)("button",{type:"button",onClick:N,children:[Object(O.jsx)("span",{className:"button-icon",children:Object(O.jsx)(m.c,{style:{transform:"rotate(180deg)"}})}),"Logout"]})]})}()}function E(){var e=Object(s.useReducer)((function(e){return!e}),!0),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useContext)(d).login;return Object(s.useEffect)((function(){c()}),[a]),Object(O.jsxs)("header",{children:[Object(O.jsxs)("h1",{children:[Object(O.jsx)(m.a,{}),"Expense Tracker"]}),Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsxs)("button",{className:"login-button",onClick:c,children:[Object(O.jsx)("span",{className:"button-icon",children:Object(O.jsx)(m.g,{})}),a?"Login":"Profile"]}),n&&Object(O.jsx)(D,{})]})]})}function L(){return Object(O.jsx)("footer",{children:Object(O.jsxs)("p",{children:["Copyright: szalokia [","0.1.1","]"]})})}var U=function(){var e=Object(s.useState)(!o("__login")[0]),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!0),j=Object(r.a)(a,2),l=j[0],u=j[1],b=Object(s.useMemo)((function(){return{login:n,setLogin:c}}),[n]);return Object(s.useEffect)((function(){setTimeout((function(){u(!1)}),1e3)}),[]),Object(O.jsxs)("div",{className:"App",children:[l&&Object(O.jsx)(y,{}),Object(O.jsxs)(d.Provider,{value:b,children:[Object(O.jsx)(E,{}),Object(O.jsx)("main",{children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.a,{exact:!0,from:"/",to:"/home"}),Object(O.jsx)(i.b,{path:"/home",children:n?Object(O.jsx)(I,{}):Object(O.jsx)(S,{})}),Object(O.jsx)(i.b,{path:"*",children:n?Object(O.jsx)(I,{}):Object(O.jsx)(k,{})})]})}),Object(O.jsx)(L,{})]})]})},B=n(18);n(46).config(),a.a.render(Object(O.jsx)(B.a,{children:Object(O.jsx)(U,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={transactions:"Transactions_transactions__3K3YJ",transactions__header:"Transactions_transactions__header__-MQ5R",trans_buttons:"Transactions_trans_buttons__1Uj7u",trans_edit:"Transactions_trans_edit__2B9NP",trans_save:"Transactions_trans_save__3-k3k",transactions__list:"Transactions_transactions__list__1Juvg",positive:"Transactions_positive__C9336",negative:"Transactions_negative__cKwj7",trans_date:"Transactions_trans_date__2uUsY",trans_title:"Transactions_trans_title__1UBeH",trans_amount:"Transactions_trans_amount__3dAOI",trans_delete:"Transactions_trans_delete__3Bk3T"}}},[[50,1,2]]]);
//# sourceMappingURL=main.5cbd4a33.chunk.js.map