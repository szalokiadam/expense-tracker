(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{19:function(e,t,n){e.exports={total:"Balance_total__3NDOU",total__amount:"Balance_total__amount__j_vB0"}},23:function(e,t,n){e.exports={addNewItem:"NewTransaction_addNewItem__2xHaX"}},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(22),a=n.n(s),r=(n(30),n(4)),i=(n(31),n(17)),o=n(3);function j(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}function l(e,t){localStorage.setItem(e,JSON.stringify(t))}n(32);var u=n(19),b=n.n(u),d=Object(c.createContext)({transactions:[],setTransactions:function(){}}),O=Object(c.createContext)({loggedIn:!1,setLoggedIn:function(){}}),x=n(0);function h(){var e=Object(c.useContext)(d).transactions.reduce((function(e,t){return e+t.amount}),0);return Object(x.jsxs)("section",{className:b.a.total,children:[Object(x.jsx)("p",{className:"section-title",children:"Total balance:"}),Object(x.jsx)("p",{className:b.a.total__amount,children:e})]})}n(34);function _(){var e=Object(c.useContext)(d).transactions;var t=e.filter((function(e){return e.amount>0})).reduce((function(e,t){return e+t.amount}),0),n=e.filter((function(e){return e.amount<0})).reduce((function(e,t){return e-t.amount}),0);return Object(x.jsx)("section",{className:"watcher",children:Object(x.jsxs)("div",{className:"watcher__container",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"Income"}),Object(x.jsx)("span",{className:"amount income",children:t})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"Expense"}),Object(x.jsx)("span",{className:"amount expense",children:n})]})]})})}var m=n(12),f=n(8),p=n(6),v=n.n(p);function g(){var e=Object(c.useReducer)((function(e){return!e})),t=Object(r.a)(e,2),n=t[0],s=t[1];var a=Object(c.useContext)(d),i=a.transactions,o=a.setTransactions;return Object(x.jsxs)("section",{className:v.a.transactions,children:[Object(x.jsxs)("div",{className:v.a.transactions__header,children:[Object(x.jsx)("p",{className:"section-title",children:"Transactions"}),i.length>0&&(n&&i.length>0?Object(x.jsxs)("div",{className:v.a.trans_buttons,children:[Object(x.jsxs)("button",{className:v.a.trans_save,onClick:function(){o([]),s()},children:["Clear All ",Object(x.jsx)(f.f,{})]}),Object(x.jsxs)("button",{className:v.a.trans_save,onClick:s,children:["Save ",Object(x.jsx)(f.e,{})]})]}):Object(x.jsxs)("button",{className:v.a.trans_edit,onClick:s,children:["Edit",Object(x.jsx)(f.b,{})]}))]}),Object(x.jsx)("ul",{className:v.a.transactions__list,children:i.map((function(e){var t=new Date(e.created).toLocaleDateString("en-US");return Object(x.jsxs)("li",{className:e.amount<0?v.a.negative:v.a.positive,children:[Object(x.jsx)("span",{className:v.a.trans_date,children:t}),Object(x.jsx)("span",{className:v.a.trans_title,children:e.title}),Object(x.jsx)("span",{className:v.a.trans_amount,children:e.amount}),n&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("button",{className:v.a.trans_delete,onClick:function(){return function(e){var t=Object(m.a)(i).filter((function(t){return t!==e}));o(Object(m.a)(t))}(e)},children:["Delete ",Object(x.jsx)(f.g,{})]})})]},e.id)}))})]})}function N(){var e=new Date;return"".concat(e.getFullYear()).concat(T(e.getMonth()+1)).concat(T(e.getDate()),"_").concat(T(e.getHours())).concat(T(e.getMinutes())).concat(T(e.getSeconds()))}function T(e){return e<10?"0".concat(e):"".concat(e)}var C=n(23),k=n.n(C);function w(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],j=i[1],l=Object(c.useContext)(d),u=l.transactions,b=l.setTransactions;return Object(x.jsxs)("section",{className:k.a.addNewItem,children:[Object(x.jsx)("p",{className:"section-title",children:"Add new item"}),Object(x.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n&&o){var t=parseInt(o,10),c={id:N(),title:n,amount:t,created:(new Date).getTime()};s(""),j(""),b([].concat(Object(m.a)(u),[c]))}},children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Title:"}),Object(x.jsx)("input",{name:"title",type:"text",value:n,onChange:function(e){s(e.target.value)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Amount:"}),Object(x.jsx)("input",{name:"amount",type:"number",value:o,onChange:function(e){j(e.target.value)}})]}),Object(x.jsx)("button",{className:"primary",type:"submit",children:"Add new item"})]})]})}function S(){var e,t=null===(e=j("__login")[0])||void 0===e?void 0:e.userName,n=Object(c.useState)(j(t)),s=Object(r.a)(n,2),a=s[0],i=s[1],o=Object(c.useMemo)((function(){return{transactions:a,setTransactions:i}}),[a]);return Object(c.useEffect)((function(){l(t,a)}),[a,t]),Object(x.jsx)("div",{className:"expense-tracker",children:Object(x.jsxs)(d.Provider,{value:o,children:[Object(x.jsx)(h,{}),Object(x.jsx)(_,{}),Object(x.jsx)(g,{}),Object(x.jsx)(w,{})]})})}function I(){return Object(x.jsx)("div",{className:"error-404",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Error 404"}),Object(x.jsx)("p",{children:"The page does not exist!"})]})})}function y(){return Object(x.jsx)("h2",{children:"To use this app, please login"})}n(35);function L(){return Object(x.jsxs)("div",{className:"loadingScreen",children:[Object(x.jsx)("span",{className:"icon",children:Object(x.jsx)(f.a,{})}),Object(x.jsx)("h2",{children:"Loading"})]})}n(36);n(37);function U(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),o=i[0],u=i[1],b=Object(c.useState)(!0),d=Object(r.a)(b,2),h=d[0],_=d[1],m=Object(c.useContext)(O),p=m.login,v=m.setLogin;function g(e){var t;e.preventDefault(),"adam1234"===(t={username:n,password:o}).username+t.password?(_(!0),v(!1),l("__login",[{userName:n}])):_(!1)}var N=function(){l("__login",[]),v(!0)};return p?Object(x.jsxs)("div",{className:"loginInner",children:[Object(x.jsx)("h2",{children:"Login"}),Object(x.jsx)("span",{className:"error",children:!h&&"Username/password invalid"}),Object(x.jsxs)("form",{onSubmit:g,children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"User name:"}),Object(x.jsx)("input",{name:"username",type:"text",value:n,onChange:function(e){s(e.target.value),_(!0)}})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Password:"}),Object(x.jsx)("input",{name:"password",type:"password",value:o,onChange:function(e){u(e.target.value),_(!0)}})]}),Object(x.jsx)("button",{type:"submit",children:"Login"})]})]}):function(){var e,t=null===(e=j("__login")[0])||void 0===e?void 0:e.userName;return Object(x.jsxs)("div",{className:"loginInner",children:[Object(x.jsx)("h2",{children:"Profile"}),Object(x.jsxs)("p",{children:["User name: ",t]}),Object(x.jsxs)("button",{type:"button",onClick:N,children:[Object(x.jsx)("span",{className:"button-icon",children:Object(x.jsx)(f.d,{style:{transform:"rotate(180deg)"}})}),"Logout"]})]})}()}function D(){var e=Object(c.useReducer)((function(e){return!e}),!0),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useContext)(O).login;return Object(c.useEffect)((function(){s()}),[a]),Object(x.jsxs)("header",{children:[Object(x.jsxs)("h1",{children:[Object(x.jsx)(f.a,{}),"Expense Tracker"]}),Object(x.jsxs)("div",{className:"login-container",children:[Object(x.jsxs)("button",{className:"login-button",onClick:s,children:[Object(x.jsx)("span",{className:"button-icon",children:Object(x.jsx)(f.c,{})}),a?"Login":"Profile"]}),n&&Object(x.jsx)(U,{})]})]})}function B(){return Object(x.jsx)("footer",{children:Object(x.jsxs)("p",{children:["Copyright: szalokia [","0.1.1","]"]})})}var E=function(){var e=Object(c.useState)(!j("__login")[0]),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!0),l=Object(r.a)(a,2),u=l[0],b=l[1],d=Object(c.useMemo)((function(){return{login:n,setLogin:s}}),[n]);return Object(c.useEffect)((function(){setTimeout((function(){b(!1)}),1e3)}),[]),Object(x.jsxs)("div",{className:"App",children:[u&&Object(x.jsx)(L,{}),Object(x.jsxs)(O.Provider,{value:d,children:[Object(x.jsx)(D,{}),Object(x.jsx)("main",{children:Object(x.jsx)(i.a,{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.a,{exact:!0,from:"".concat("/expense-tracker","/"),to:"".concat("/expense-tracker","/home")}),Object(x.jsx)(o.b,{path:"".concat("/expense-tracker","/home"),children:n?Object(x.jsx)(y,{}):Object(x.jsx)(S,{})}),Object(x.jsx)(o.b,{path:"".concat("/expense-tracker","/*"),children:n?Object(x.jsx)(y,{}):Object(x.jsx)(I,{})})]})})}),Object(x.jsx)(B,{})]})]})};n(46).config(),console.log("PUBLIC URL: ".concat("/expense-tracker")),a.a.render(Object(x.jsx)(i.a,{children:Object(x.jsx)(E,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={transactions:"Transactions_transactions__3K3YJ",transactions__header:"Transactions_transactions__header__-MQ5R",trans_buttons:"Transactions_trans_buttons__1Uj7u",trans_edit:"Transactions_trans_edit__2B9NP",trans_save:"Transactions_trans_save__3-k3k",transactions__list:"Transactions_transactions__list__1Juvg",positive:"Transactions_positive__C9336",negative:"Transactions_negative__cKwj7",trans_date:"Transactions_trans_date__2uUsY",trans_title:"Transactions_trans_title__1UBeH",trans_amount:"Transactions_trans_amount__3dAOI",trans_delete:"Transactions_trans_delete__3Bk3T"}}},[[50,1,2]]]);
//# sourceMappingURL=main.4c768d7c.chunk.js.map