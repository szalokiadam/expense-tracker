{"version":3,"sources":["components/Balance.module.scss","components/NewTransaction.module.scss","components/Store.js","components/_globalContext.js","components/Balance.js","components/Watcher.js","components/Transactions.js","Utilities.js","components/NewTransaction.js","components/Home.js","components/Error404.js","components/LoginError.js","components/LoadingScreen.js","components/Login.js","components/permissions.js","components/HeaderFooter.js","App.js","index.js","components/Transactions.module.scss"],"names":["module","exports","loadStore","userName","_store","localStorage","getItem","JSON","parse","saveStore","setItem","stringify","GlobalTransactions","createContext","transactions","setTransactions","LoggedIn","loggedIn","setLoggedIn","Balance","total","useContext","reduce","transaction","amount","className","style","total__amount","Watcher","income","filter","tr","expense","Transactions","useReducer","editable","setEditable","transactions__header","length","trans_buttons","trans_save","onClick","trans_edit","transactions__list","map","date","Date","created","toLocaleDateString","negative","positive","trans_date","trans_title","title","trans_amount","trans_delete","currentTransaction","newTransactions","deleteItem","id","uniqueNumber","getFullYear","toTwoDigit","getMonth","getDate","getHours","getMinutes","getSeconds","digit","NewTransaction","useState","setTitle","setAmount","addNewItem","onSubmit","event","preventDefault","_amount","parseInt","data","getTime","name","type","value","onChange","e","target","Home","transactionValues","useMemo","useEffect","Provider","Error404","LoginError","LoadingScreen","Login","username","setUsername","password","setPassword","valid","setValid","login","setLogin","submitLogin","process","submitLogout","transform","profilePage","Header","opener","loginOpener","toggleOpener","Footer","App","loading","setLoading","loginValues","setTimeout","exact","from","to","path","require","config","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fede3d0d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"total\":\"Balance_total__3NDOU\",\"total__amount\":\"Balance_total__amount__j_vB0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addNewItem\":\"NewTransaction_addNewItem__2xHaX\"};","export function loadStore(userName) {\r\n  const _store = localStorage.getItem(userName);\r\n  if (!_store) return [];\r\n  return JSON.parse(_store);\r\n}\r\n\r\nexport function saveStore(userName, _store) {\r\n  localStorage.setItem(userName, JSON.stringify(_store));\r\n}\r\n","import { createContext } from \"react\";\r\n\r\nexport const GlobalTransactions = createContext({\r\n  transactions: [],\r\n  setTransactions: () => {},\r\n});\r\n\r\nexport const LoggedIn = createContext({\r\n  loggedIn: false,\r\n  setLoggedIn: () => {},\r\n});\r\n","import style from \"./Balance.module.scss\";\r\nimport { useContext } from \"react\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\n\r\nexport default function Balance() {\r\n  const { transactions } = useContext(GlobalTransactions);\r\n  const total = transactions.reduce(\r\n    (total, transaction) => total + transaction.amount,\r\n    0\r\n  );\r\n\r\n  return (\r\n    <section className={style.total}>\r\n      <p className=\"section-title\">Total balance:</p>\r\n      <p className={style.total__amount}>{total}</p>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\nimport \"./Watcher.scss\";\r\n\r\nexport default function Watcher() {\r\n  const { transactions } = useContext(GlobalTransactions);\r\n\r\n  function getIncome() {\r\n    return transactions\r\n      .filter((tr) => tr.amount > 0)\r\n      .reduce((total, transaction) => total + transaction.amount, 0);\r\n  }\r\n  function getExpense() {\r\n    return transactions\r\n      .filter((tr) => tr.amount < 0)\r\n      .reduce((total, transaction) => total - transaction.amount, 0);\r\n  }\r\n\r\n  const income = getIncome();\r\n  const expense = getExpense();\r\n\r\n  return (\r\n    <section className=\"watcher\">\r\n      <div className=\"watcher__container\">\r\n        <div>\r\n          <span>Income</span>\r\n          <span className=\"amount income\">{income}</span>\r\n        </div>\r\n        <div>\r\n          <span>Expense</span>\r\n          <span className=\"amount expense\">{expense}</span>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useReducer, useContext } from \"react\";\r\nimport { BiEdit, BiSave, BiTrash, BiTrashAlt } from \"react-icons/bi\";\r\nimport style from \"./Transactions.module.scss\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\n\r\nexport default function Transactions() {\r\n  const [editable, setEditable] = useReducer((editable) => !editable);\r\n\r\n  function clearAll() {\r\n    setTransactions([]);\r\n    setEditable();\r\n  }\r\n  const { transactions, setTransactions } = useContext(GlobalTransactions);\r\n\r\n  function deleteItem(currentTransaction) {\r\n    const newTransactions = [...transactions].filter(\r\n      (transaction) => transaction !== currentTransaction\r\n    );\r\n    setTransactions([...newTransactions]);\r\n  }\r\n\r\n  return (\r\n    <section className={style.transactions}>\r\n      <div className={style.transactions__header}>\r\n        <p className=\"section-title\">Transactions</p>\r\n        {transactions.length > 0 &&\r\n          (editable && transactions.length > 0 ? (\r\n            <div className={style.trans_buttons}>\r\n              <button className={style.trans_save} onClick={clearAll}>\r\n                Clear All <BiTrash />\r\n              </button>\r\n              <button className={style.trans_save} onClick={setEditable}>\r\n                Save <BiSave />\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <button className={style.trans_edit} onClick={setEditable}>\r\n              Edit\r\n              <BiEdit />\r\n            </button>\r\n          ))}\r\n      </div>\r\n      <ul className={style.transactions__list}>\r\n        {transactions.map((transaction) => {\r\n          const date = new Date(transaction.created).toLocaleDateString(\r\n            \"en-US\"\r\n          );\r\n          return (\r\n            <li\r\n              key={transaction.id}\r\n              className={\r\n                transaction.amount < 0 ? style.negative : style.positive\r\n              }\r\n            >\r\n              <span className={style.trans_date}>{date}</span>\r\n              <span className={style.trans_title}>{transaction.title}</span>\r\n              <span className={style.trans_amount}>{transaction.amount}</span>\r\n              {editable && (\r\n                <>\r\n                  <button\r\n                    className={style.trans_delete}\r\n                    onClick={() => deleteItem(transaction)}\r\n                  >\r\n                    Delete <BiTrashAlt />\r\n                  </button>\r\n                </>\r\n              )}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n","export function uniqueNumber() {\r\n  const date = new Date();\r\n  const str = `${date.getFullYear()}${toTwoDigit(\r\n    date.getMonth() + 1\r\n  )}${toTwoDigit(date.getDate())}_${toTwoDigit(date.getHours())}${toTwoDigit(\r\n    date.getMinutes()\r\n  )}${toTwoDigit(date.getSeconds())}`;\r\n  return str;\r\n}\r\nfunction toTwoDigit(digit) {\r\n  if (digit < 10) return `0${digit}`;\r\n  return `${digit}`;\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport { uniqueNumber } from \"../Utilities\";\r\nimport style from \"./NewTransaction.module.scss\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\n\r\nexport default function NewTransaction() {\r\n  let [title, setTitle] = useState(\"\");\r\n  let [amount, setAmount] = useState(\"\");\r\n\r\n  const { transactions, setTransactions } = useContext(GlobalTransactions);\r\n\r\n  function addToTransactions(event) {\r\n    event.preventDefault();\r\n    if (!title || !amount) return;\r\n    const _amount = parseInt(amount, 10);\r\n    const data = {\r\n      id: uniqueNumber(),\r\n      title,\r\n      amount: _amount,\r\n      created: new Date().getTime(),\r\n    };\r\n\r\n    setTitle(\"\");\r\n    setAmount(\"\");\r\n    setTransactions([...transactions, data]);\r\n  }\r\n\r\n  return (\r\n    <section className={style.addNewItem}>\r\n      <p className=\"section-title\">Add new item</p>\r\n      <form onSubmit={addToTransactions}>\r\n        <label>\r\n          <span>Title:</span>\r\n          <input\r\n            name=\"title\"\r\n            type=\"text\"\r\n            value={title}\r\n            onChange={(e) => {\r\n              setTitle(e.target.value);\r\n            }}\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Amount:</span>\r\n          <input\r\n            name=\"amount\"\r\n            type=\"number\"\r\n            value={amount}\r\n            onChange={(e) => {\r\n              setAmount(e.target.value);\r\n            }}\r\n          />\r\n        </label>\r\n        <button className=\"primary\" type=\"submit\">\r\n          Add new item\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport { loadStore, saveStore } from \"./Store\";\r\nimport \"./style.scss\";\r\nimport Balance from \"./Balance\";\r\nimport Watcher from \"./Watcher\";\r\nimport Transactions from \"./Transactions\";\r\nimport NewTransaction from \"./NewTransaction\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\n\r\nexport default function Home() {\r\n  const userName = loadStore(\"__login\")[0]?.userName;\r\n\r\n  const [transactions, setTransactions] = useState(loadStore(userName));\r\n  const transactionValues = useMemo(\r\n    () => ({ transactions, setTransactions }),\r\n    [transactions]\r\n  );\r\n\r\n  useEffect(() => {\r\n    saveStore(userName, transactions);\r\n  }, [transactions, userName]);\r\n\r\n  return (\r\n    <div className=\"expense-tracker\">\r\n      <GlobalTransactions.Provider value={transactionValues}>\r\n        <Balance />\r\n        <Watcher />\r\n        <Transactions />\r\n        <NewTransaction />\r\n      </GlobalTransactions.Provider>\r\n    </div>\r\n  );\r\n}\r\n","export default function Error404() {\r\n  return (\r\n    <div className=\"error-404\">\r\n      <div>\r\n        <h2>Error 404</h2>\r\n        <p>The page does not exist!</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function LoginError() {\r\n  return <h2>To use this app, please login</h2>;\r\n}\r\n","import \"./LoadingScreen.scss\";\r\nimport { BiDollarCircle } from \"react-icons/bi\";\r\n\r\nexport default function LoadingScreen() {\r\n  return (\r\n    <div className=\"loadingScreen\">\r\n      <span className=\"icon\">\r\n        <BiDollarCircle />\r\n      </span>\r\n      <h2>Loading</h2>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport { loadStore, saveStore } from \"./Store\";\r\nimport { checkPermission } from \"./permissions\";\r\nimport \"./Login.scss\";\r\nimport { LoggedIn } from \"./_globalContext\";\r\nimport { BiLogOut } from \"react-icons/bi\";\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [valid, setValid] = useState(true);\r\n\r\n  const { login, setLogin } = useContext(LoggedIn);\r\n\r\n  function submitLogin(event) {\r\n    event.preventDefault();\r\n    const isValid = checkPermission({ username, password });\r\n    if (isValid) {\r\n      setValid(true);\r\n      setLogin(false);\r\n      saveStore(\"__login\", [{ userName: username }]);\r\n    } else {\r\n      setValid(false);\r\n    }\r\n  }\r\n\r\n  const submitLogout = () => {\r\n    saveStore(\"__login\", []);\r\n    setLogin(true);\r\n  };\r\n  function loginPage() {\r\n    return (\r\n      <div className=\"loginInner\">\r\n        <h2>Login</h2>\r\n        <span className=\"error\">{!valid && \"Username/password invalid\"}</span>\r\n        <form onSubmit={submitLogin}>\r\n          <label>\r\n            <span>User name:</span>\r\n            <input\r\n              name=\"username\"\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={(e) => {\r\n                setUsername(e.target.value);\r\n                setValid(true);\r\n              }}\r\n            />\r\n          </label>\r\n          <label>\r\n            <span>Password:</span>\r\n            <input\r\n              name=\"password\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => {\r\n                setPassword(e.target.value);\r\n                setValid(true);\r\n              }}\r\n            />\r\n          </label>\r\n          <button type=\"submit\">Login</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function profilePage() {\r\n    const userName = loadStore(\"__login\")[0]?.userName;\r\n\r\n    return (\r\n      <div className=\"loginInner\">\r\n        <h2>Profile</h2>\r\n        <p>User name: {userName}</p>\r\n        <button type=\"button\" onClick={submitLogout}>\r\n          <span className=\"button-icon\">\r\n            <BiLogOut style={{ transform: \"rotate(180deg)\" }} />\r\n          </span>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n  return !login ? profilePage() : loginPage();\r\n}\r\n","export function checkPermission({ username, password }) {\r\n  return process.env.REACT_APP_LOGIN_ACCOUNT === username + password;\r\n}\r\n","import React, { useEffect, useReducer, useContext } from \"react\";\r\nimport { BiDollarCircle, BiGhost } from \"react-icons/bi\";\r\nimport \"./HeaderFooter.scss\";\r\nimport Login from \"./Login\";\r\nimport { LoggedIn } from \"./_globalContext\";\r\n\r\nexport function Header() {\r\n  const [loginOpener, toggleOpener] = useReducer((opener) => !opener, true);\r\n  const { login } = useContext(LoggedIn);\r\n\r\n  useEffect(() => {\r\n    toggleOpener();\r\n  }, [login]);\r\n\r\n  return (\r\n    <header>\r\n      <h1>\r\n        <BiDollarCircle />\r\n        Expense Tracker\r\n      </h1>\r\n      <div className=\"login-container\">\r\n        <button className=\"login-button\" onClick={toggleOpener}>\r\n          <span className=\"button-icon\">\r\n            <BiGhost />\r\n          </span>\r\n          {login ? \"Login\" : \"Profile\"}\r\n        </button>\r\n        {loginOpener && <Login />}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\nexport function Footer() {\r\n  return (\r\n    <footer>\r\n      <p>Copyright: szalokia [{process.env.REACT_APP_VERSION}]</p>\r\n    </footer>\r\n  );\r\n}\r\n","import { useState, useMemo, useEffect } from \"react\";\r\nimport \"./App.scss\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport Home from \"./components/Home\";\r\nimport Error404 from \"./components/Error404\";\r\nimport LoginError from \"./components/LoginError\";\r\nimport LoadingScreen from \"./components/LoadingScreen\";\r\nimport { Header, Footer } from \"./components/HeaderFooter\";\r\nimport { loadStore } from \"./components/Store\";\r\nimport { LoggedIn } from \"./components/_globalContext\";\r\n\r\nfunction App() {\r\n  const [login, setLogin] = useState(!loadStore(\"__login\")[0]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const loginValues = useMemo(() => ({ login, setLogin }), [login]);\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {loading && <LoadingScreen />}\r\n      <LoggedIn.Provider value={loginValues}>\r\n        <Header />\r\n        <main>\r\n          <Router>\r\n            <Switch>\r\n              <Redirect\r\n                exact\r\n                from=\"expense-tracker/\"\r\n                to=\"expense-tracker/home\"\r\n              />\r\n              <Route path=\"expense-tracker/home\">\r\n                {login ? <LoginError /> : <Home />}\r\n              </Route>\r\n              <Route path=\"expense-tracker/*\">\r\n                {login ? <LoginError /> : <Error404 />}\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </main>\r\n        <Footer />\r\n      </LoggedIn.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nrequire(\"dotenv\").config();\r\n\r\nconsole.log(`PUBLIC URL: ${process.env.PUBLIC_URL}`);\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transactions\":\"Transactions_transactions__3K3YJ\",\"transactions__header\":\"Transactions_transactions__header__-MQ5R\",\"trans_buttons\":\"Transactions_trans_buttons__1Uj7u\",\"trans_edit\":\"Transactions_trans_edit__2B9NP\",\"trans_save\":\"Transactions_trans_save__3-k3k\",\"transactions__list\":\"Transactions_transactions__list__1Juvg\",\"positive\":\"Transactions_positive__C9336\",\"negative\":\"Transactions_negative__cKwj7\",\"trans_date\":\"Transactions_trans_date__2uUsY\",\"trans_title\":\"Transactions_trans_title__1UBeH\",\"trans_amount\":\"Transactions_trans_amount__3dAOI\",\"trans_delete\":\"Transactions_trans_delete__3Bk3T\"};"],"sourceRoot":""}