(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{20:function(e,t,n){e.exports={total:"Balance_total__2uVBj",total__amount:"Balance_total__amount__3G5j7"}},21:function(e,t,n){e.exports={addNewItem:"NewTransaction_addNewItem__OT3ii"}},34:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(19),r=n.n(a),i=n(3),o=(n(34),n(4));function j(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}function l(e,t){localStorage.setItem(e,JSON.stringify(t))}var u=n(20),b=n.n(u),d=Object(c.createContext)({transactions:[],setTransactions:function(){}}),O=Object(c.createContext)({loggedIn:!1,setLoggedIn:function(){}}),x=Object(c.createContext)({menuOpened:!1,setMenuToggle:function(){}}),m=Object(c.createContext)({dateRange:"",setDateRange:function(){}}),h=n(0);function p(){var e=Object(c.useContext)(d).transactions.reduce((function(e,t){return e+t.amount}),0);return Object(h.jsxs)("section",{className:b.a.total,children:[Object(h.jsx)("p",{className:"section-title",children:"Total balance:"}),Object(h.jsx)("p",{className:b.a.total__amount,children:e})]})}n(36);function f(){var e=Object(c.useContext)(d).transactions;var t=function(){var t=0,n=0;return e.forEach((function(e){e.amount>0?t+=e.amount:n-=e.amount})),[t,n]}(),n=Object(i.a)(t,2),s=n[0],a=n[1];return Object(h.jsx)("section",{className:"watcher",children:Object(h.jsxs)("div",{className:"watcher__container",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Income"}),Object(h.jsx)("span",{className:"amount income",children:s})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"Expense"}),Object(h.jsx)("span",{className:"amount expense",children:a})]})]})})}var v=n(6),g=(n(37),n(12));function N(){var e=new Date;return"".concat(e.getFullYear()).concat(_(e.getMonth()+1)).concat(_(e.getDate()),"_").concat(_(e.getHours())).concat(_(e.getMinutes())).concat(_(e.getSeconds()))}function _(e){return e<10?"0".concat(e):"".concat(e)}function C(e,t){var n=new Date(e),c=[_(n.getFullYear()),_(n.getMonth()+1),_(n.getDate())],s=c[0],a=c[1],r=c[2];return t?t.replace(/y/i,"".concat(s)).replace(/m/i,"".concat(a)).replace(/d/i,"".concat(r)):"".concat(s,"-").concat(a,"-").concat(r)}n(38);function y(e){var t=e.editable,n=void 0!==t&&t,a=e.filteredTransactions,r=void 0===a?null:a,i=e.maxElements,o=void 0===i?null:i,j=Object(c.useContext)(d),l=j.transactions,u=j.setTransactions,b=r||l;b=o?b.slice(-o):b;var O=s.a.createRef();return Object(c.useEffect)((function(){O.current.scrollIntoView()}),[O]),Object(h.jsxs)("ul",{className:"transactions__list",children:[b.map((function(e){var t=C(e.created);return Object(h.jsxs)("li",{className:e.amount<0?"negative":"positive",children:[Object(h.jsx)("span",{className:"trans_date",children:t}),Object(h.jsx)("span",{className:"trans_title",children:e.title}),Object(h.jsx)("span",{className:"trans_amount",children:e.amount}),n&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("button",{className:"trans_delete",onClick:function(){return function(e){var t=Object(g.a)(l).filter((function(t){return t!==e}));u(Object(g.a)(t))}(e)},children:["Delete ",Object(h.jsx)(v.h,{})]})})]},e.id)})),Object(h.jsx)("li",{className:"dummy",ref:O})]})}function w(){var e=Object(c.useReducer)((function(e){return!e})),t=Object(i.a)(e,2),n=t[0],s=t[1];var a=Object(c.useContext)(d),r=a.transactions,o=a.setTransactions;return Object(h.jsxs)("section",{className:"transactions",children:[Object(h.jsxs)("div",{className:"transactions__header",children:[Object(h.jsxs)("p",{className:"section-title",children:["Transactions (last ",8," elements)"]}),Object(h.jsx)("div",{className:"trans_buttons",children:r.length>0&&(n&&r.length>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("button",{title:"Clear All",className:"trans_save",onClick:function(){o([]),s()},children:["Clear All ",Object(h.jsx)(v.g,{})]}),Object(h.jsxs)("button",{title:"Save",className:"trans_save",onClick:s,children:["Save ",Object(h.jsx)(v.e,{})]})]}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("button",{title:"Edit",className:"trans_edit",onClick:s,children:["Edit",Object(h.jsx)(v.b,{})]})}))})]}),Object(h.jsx)(y,{editable:n,maxElements:8})]})}var S=n(27),T=n.n(S),k=n(21),D=n.n(k);function E(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],j=r[1],l=Object(c.useContext)(d),u=l.transactions,b=l.setTransactions,O=Object(c.useReducer)((function(e){return!e}),!1),x=Object(i.a)(O,2),m=x[0],p=x[1];return Object(h.jsxs)("section",{className:D.a.addNewItem,children:[Object(h.jsx)("button",{className:"primary",type:"submit",onClick:p,children:"Add new item"}),Object(h.jsxs)(T.a,{isOpen:m,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:p,className:D.a.addNewItem,ariaHideApp:!1,style:{overlay:{backgroundColor:"rgba(238, 238, 238, 0.7)"},content:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"#282828",borderRadius:"5px",border:"1px solid #424242",outline:"none",padding:"20px",width:"calc(100% - 30px)",maxWidth:"400px",boxSizing:"border-box"}},children:[Object(h.jsx)("p",{className:"section-title",children:"Add new item"}),Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n&&o){var t=parseInt(o,10),c={id:N(),title:n,amount:t,created:(new Date).getTime()};s(""),j(""),b([].concat(Object(g.a)(u),[c])),p()}},children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Title:"}),Object(h.jsx)("input",{autoFocus:!0,placeholder:"Item name",name:"title",type:"text",value:n,onChange:function(e){s(e.target.value)}})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Amount:"}),Object(h.jsx)("input",{placeholder:"Item cost",name:"amount",type:"number",value:o,onChange:function(e){j(e.target.value)}})]}),Object(h.jsx)("button",{className:"primary",type:"submit",children:"Add to list"})]})]})]})}n(50);function I(){var e,t=null===(e=j("__login")[0])||void 0===e?void 0:e.userName,n=Object(c.useContext)(d).transactions;return Object(c.useEffect)((function(){l(t,n)}),[n,t]),Object(h.jsxs)("div",{className:"expense-tracker",children:[Object(h.jsx)(p,{}),Object(h.jsx)(f,{}),Object(h.jsx)(w,{}),Object(h.jsx)(E,{})]})}n(51);function R(){return Object(h.jsxs)("div",{className:"error-404",children:[Object(h.jsx)("div",{className:"background"}),Object(h.jsxs)("div",{className:"error-text",children:[Object(h.jsx)("h2",{children:"Error 404"}),Object(h.jsx)("p",{children:"The page does not exist!"})]})]})}n(52);function M(){return Object(h.jsxs)("div",{className:"loginError",children:[Object(h.jsxs)("h2",{children:["Welcome to",Object(h.jsx)("br",{})," Expense Tracker"]}),Object(h.jsx)("p",{children:"This app is for those who like to keep track of what they spent their money on"}),Object(h.jsx)("p",{children:"Please Login to use"})]})}n(53);function L(){return Object(h.jsx)("div",{className:"loadingScreen",children:Object(h.jsx)("span",{className:"icon",children:Object(h.jsx)(v.a,{})})})}n(54);function A(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useMemo)((function(){return{dateRange:n,setDateRange:s}}),[n]);return Object(h.jsx)("div",{className:"expense-tracker",children:Object(h.jsxs)(m.Provider,{value:a,children:[Object(h.jsx)(F,{}),Object(h.jsx)("section",{className:"transactions",children:Object(h.jsx)(y,{filteredTransactions:n})})]})})}function F(){var e=new Date,t=Object(c.useState)(C(e)),n=Object(i.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)(C(e)),o=Object(i.a)(r,2),j=o[0],l=o[1],u=C(e),b=Object(c.useContext)(d).transactions,O=Object(c.useContext)(m).setDateRange;return Object(h.jsxs)("section",{className:"dateRange",children:[Object(h.jsx)("p",{children:"Select Date Range"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new Date(s).getTime(),n=new Date(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date(e);return n.setDate(n.getDate()+t),n.getTime()}(j,1)).getTime(),c=b.filter((function(e){return t<e.created&&e.created<n}));O(c)},children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Star Date:"}),Object(h.jsx)("input",{type:"date",value:s,onChange:function(e){return a(e.target.value)},max:j})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"End Date:"}),Object(h.jsx)("input",{type:"date",value:j,onChange:function(e){return l(e.target.value)},min:s,max:u})]}),Object(h.jsx)("button",{className:"primary",type:"submit",children:"Select Date"})]})]})}var P=n(8);n(55);n(56);function B(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],u=r[1],b=Object(c.useState)(!0),d=Object(i.a)(b,2),m=d[0],p=d[1],f=Object(c.useContext)(O),g=f.login,N=f.setLogin,_=Object(c.useContext)(x).setMenuToggle;function C(e){e.preventDefault();var t=function(e){var t=e.username;return e.password,t}({username:n,password:o});t?(p(!0),N(!1),l("__login",[{userName:n}])):p(!1)}var y=function(){l("__login",[]),N(!0)};return g?Object(h.jsxs)("div",{className:"loginInner loginBox",children:[Object(h.jsx)("h2",{children:"Login"}),Object(h.jsx)("span",{className:"error",children:!m&&"Username/password invalid"}),Object(h.jsxs)("form",{onSubmit:C,children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"User name:"}),Object(h.jsx)("input",{name:"username",type:"text",value:n,onChange:function(e){s(e.target.value),p(!0)},autoFocus:!0})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Password:"}),Object(h.jsx)("input",{name:"password",type:"password",value:o,onChange:function(e){u(e.target.value),p(!0)}})]}),Object(h.jsx)("button",{type:"submit",className:"primary",children:"Login"})]})]}):function(){var e,t=null===(e=j("__login")[0])||void 0===e?void 0:e.userName;return Object(h.jsxs)("div",{className:"loginInner",children:[Object(h.jsx)("h2",{children:"Profile"}),Object(h.jsxs)("p",{children:["User: ",t]}),Object(h.jsxs)("div",{className:"buttons",children:[Object(h.jsx)(P.b,{to:"/",onClick:_,children:Object(h.jsxs)("button",{type:"button",className:"neutral",children:[Object(h.jsx)("span",{className:"button-icon",children:Object(h.jsx)(v.d,{})}),"Latest Transactions"]})}),Object(h.jsx)(P.b,{to:"/monthly-transactions",onClick:_,children:Object(h.jsxs)("button",{type:"button",className:"neutral",children:[Object(h.jsx)("span",{className:"button-icon",children:Object(h.jsx)(v.f,{})}),"Transactions by Date"]})}),Object(h.jsxs)("button",{type:"button",onClick:y,className:"neutral",children:[Object(h.jsx)("span",{className:"button-icon",children:Object(h.jsx)(v.c,{style:{transform:"rotate(180deg)"}})}),"Logout"]})]}),Object(h.jsxs)("span",{className:"version",children:["version: ","0.1.3"]})]})}()}function J(){var e=Object(c.useContext)(O).login,t=Object(c.useReducer)((function(e){return!e}),!0),n=Object(i.a)(t,2),s=n[0],a=n[1],r=Object(c.useMemo)((function(){return{menuOpened:s,setMenuToggle:a}}),[s]);return Object(c.useEffect)((function(){a()}),[e]),Object(h.jsxs)("header",{children:[Object(h.jsx)("h1",{className:"title",children:Object(h.jsx)(P.b,{to:"/",children:"Expense Tracker"})}),Object(h.jsxs)("div",{className:"login-container",children:[e&&Object(h.jsx)("button",{className:"register-button neutral",children:"Register"}),Object(h.jsxs)("button",{className:"login-button primary",onClick:a,children:[Object(h.jsx)("span",{className:"button-icon",children:Object(h.jsx)(v.i,{})}),e?"Login":"Profile"]}),Object(h.jsx)(x.Provider,{value:r,children:s&&Object(h.jsx)(B,{})})]})]})}function U(){return Object(h.jsx)("footer",{})}var H=function(){var e,t=null===(e=j("__login")[0])||void 0===e?void 0:e.userName,n=Object(c.useState)(!t),s=Object(i.a)(n,2),a=s[0],r=s[1],l=Object(c.useState)(!0),u=Object(i.a)(l,2),b=u[0],x=u[1],m=Object(c.useState)(j(t)),p=Object(i.a)(m,2),f=p[0],v=p[1],g=Object(c.useMemo)((function(){return{transactions:f,setTransactions:v}}),[f]),N=Object(c.useMemo)((function(){return{login:a,setLogin:r}}),[a]);return Object(c.useEffect)((function(){setTimeout((function(){x(!1)}),1e3)}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"Background"}),Object(h.jsxs)("div",{className:"App",children:[b&&Object(h.jsx)(L,{}),Object(h.jsxs)(O.Provider,{value:N,children:[Object(h.jsx)(J,{}),Object(h.jsx)("main",{children:Object(h.jsxs)(o.d,{children:[a&&Object(h.jsx)(M,{}),Object(h.jsx)(o.a,{exact:!0,from:"/",to:"/home"}),Object(h.jsxs)(d.Provider,{value:g,children:[Object(h.jsx)(o.b,{path:"/home",children:a?Object(h.jsx)(M,{}):Object(h.jsx)(I,{})}),Object(h.jsx)(o.b,{path:"/monthly-transactions",children:Object(h.jsx)(A,{})})]}),Object(h.jsx)(o.b,{path:"*",children:Object(h.jsx)(R,{})})]})}),Object(h.jsx)(U,{})]})]})]})};n(63).config(),r.a.render(Object(h.jsx)(P.a,{children:Object(h.jsx)(H,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.d1c6c51d.chunk.js.map