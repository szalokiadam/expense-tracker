(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{10:function(e,t,n){"use strict";function c(){var e=new Date;return"".concat(e.getFullYear()).concat(s(e.getMonth()+1)).concat(s(e.getDate()),"_").concat(s(e.getHours())).concat(s(e.getMinutes())).concat(s(e.getSeconds()))}function s(e){return e<10?"0".concat(e):"".concat(e)}function a(e,t){var n=new Date(e),c=[s(n.getFullYear()),s(n.getMonth()+1),s(n.getDate())],a=c[0],r=c[1],i=c[2];return t?t.replace(/y/i,"".concat(a)).replace(/m/i,"".concat(r)).replace(/d/i,"".concat(i)):"".concat(a,"-").concat(r,"-").concat(i)}n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}))},17:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TransactionsList}));var C_Users_Adam_Szaloki_Visual_Studio_Code_expense_tracker_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_Utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),_globalContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_resources_scss_TransactionsList_scss__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),_resources_scss_TransactionsList_scss__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_resources_scss_TransactionsList_scss__WEBPACK_IMPORTED_MODULE_4__),react_icons_bi__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);function TransactionsList(_ref){var _ref$editable=_ref.editable,editable=void 0!==_ref$editable&&_ref$editable,filterFn=_ref.filterFn,_useContext=Object(react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_globalContext__WEBPACK_IMPORTED_MODULE_3__.b),transactions=_useContext.transactions,setTransactions=_useContext.setTransactions,newTransactions=filterFn?transactions.filter(eval(filterFn)):transactions;function deleteItem(e){var t=Object(C_Users_Adam_Szaloki_Visual_Studio_Code_expense_tracker_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(transactions).filter((function(t){return t!==e}));setTransactions(Object(C_Users_Adam_Szaloki_Visual_Studio_Code_expense_tracker_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(t))}return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul",{className:"transactions__list",children:null!==filterFn&&newTransactions.map((function(e){var t=Object(_Utilities__WEBPACK_IMPORTED_MODULE_2__.a)(e.created);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("li",{className:e.amount<0?"negative":"positive",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:"trans_date",children:t}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:"trans_title",children:e.title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:"trans_amount",children:e.amount}),editable&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("button",{className:"trans_delete",onClick:function(){return deleteItem(e)},children:["Delete ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_icons_bi__WEBPACK_IMPORTED_MODULE_5__.h,{})]})})]},e.id)}))})}},2:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i}));var c=n(1),s=Object(c.createContext)({transactions:[],setTransactions:function(){}}),a=Object(c.createContext)({loggedIn:!1,setLoggedIn:function(){}}),r=Object(c.createContext)({menuOpened:!1,setMenuToggle:function(){}}),i=Object(c.createContext)({dateRange:"",setDateRange:function(){}})},23:function(e,t,n){e.exports={total:"Balance_total__2uVBj",total__amount:"Balance_total__amount__3G5j7"}},24:function(e,t,n){e.exports={addNewItem:"NewTransaction_addNewItem__OT3ii"}},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(22),a=n.n(s),r=n(4),i=(n(37),n(5));function _(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}function o(e,t){localStorage.setItem(e,JSON.stringify(t))}var l=n(23),j=n.n(l),u=n(2),b=n(0);function O(){var e=Object(c.useContext)(u.b).transactions.reduce((function(e,t){return e+t.amount}),0);return Object(b.jsxs)("section",{className:j.a.total,children:[Object(b.jsx)("p",{className:"section-title",children:"Total balance:"}),Object(b.jsx)("p",{className:j.a.total__amount,children:e})]})}n(39);function d(){var e=Object(c.useContext)(u.b).transactions;var t=function(){var t=0,n=0;return e.forEach((function(e){e.amount>0?t+=e.amount:n-=e.amount})),[t,n]}(),n=Object(r.a)(t,2),s=n[0],a=n[1];return Object(b.jsx)("section",{className:"watcher",children:Object(b.jsxs)("div",{className:"watcher__container",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Income"}),Object(b.jsx)("span",{className:"amount income",children:s})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Expense"}),Object(b.jsx)("span",{className:"amount expense",children:a})]})]})})}var x=n(7),m=(n(40),n(17));function h(){var e=Object(c.useReducer)((function(e){return!e})),t=Object(r.a)(e,2),n=t[0],s=t[1];var a=Object(c.useContext)(u.b),i=a.transactions,_=a.setTransactions;return Object(b.jsxs)("section",{className:"transactions",children:[Object(b.jsxs)("div",{className:"transactions__header",children:[Object(b.jsx)("p",{className:"section-title",children:"Transactions"}),Object(b.jsx)("div",{className:"trans_buttons",children:i.length>0&&(n&&i.length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("button",{title:"Clear All",className:"trans_save",onClick:function(){_([]),s()},children:["Clear All ",Object(b.jsx)(x.g,{})]}),Object(b.jsxs)("button",{title:"Save",className:"trans_save",onClick:s,children:["Save ",Object(b.jsx)(x.e,{})]})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("button",{title:"Edit",className:"trans_edit",onClick:s,children:["Edit",Object(b.jsx)(x.b,{})]})}))})]}),Object(b.jsx)(m.a,{editable:n})]})}var p=n(14),f=n(30),E=n.n(f),v=n(10),g=n(24),C=n.n(g);function D(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),_=i[0],o=i[1],l=Object(c.useContext)(u.b),j=l.transactions,O=l.setTransactions,d=Object(c.useReducer)((function(e){return!e}),!1),x=Object(r.a)(d,2),m=x[0],h=x[1];return Object(b.jsxs)("section",{className:C.a.addNewItem,children:[Object(b.jsx)("button",{className:"primary",type:"submit",onClick:h,children:"Add new item"}),Object(b.jsxs)(E.a,{isOpen:m,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:h,className:C.a.addNewItem,ariaHideApp:!1,style:{overlay:{backgroundColor:"rgba(238, 238, 238, 0.7)"},content:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"#282828",borderRadius:"5px",border:"1px solid #424242",outline:"none",padding:"20px",width:"calc(100% - 30px)",maxWidth:"400px",boxSizing:"border-box"}},children:[Object(b.jsx)("p",{className:"section-title",children:"Add new item"}),Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n&&_){var t=parseInt(_,10),c={id:Object(v.b)(),title:n,amount:t,created:(new Date).getTime()};s(""),o(""),O([].concat(Object(p.a)(j),[c])),h()}},children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"Title:"}),Object(b.jsx)("input",{autoFocus:!0,placeholder:"Item name",name:"title",type:"text",value:n,onChange:function(e){s(e.target.value)}})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"Amount:"}),Object(b.jsx)("input",{placeholder:"Item cost",name:"amount",type:"number",value:_,onChange:function(e){o(e.target.value)}})]}),Object(b.jsx)("button",{className:"primary",type:"submit",children:"Add to list"})]})]})]})}n(53);function M(){var e,t=null===(e=_("__login")[0])||void 0===e?void 0:e.userName,n=Object(c.useContext)(u.b).transactions;return Object(c.useEffect)((function(){o(t,n)}),[n,t]),Object(b.jsxs)("div",{className:"expense-tracker",children:[Object(b.jsx)(O,{}),Object(b.jsx)(d,{}),Object(b.jsx)(h,{}),Object(b.jsx)(D,{})]})}n(54);function N(){return Object(b.jsxs)("div",{className:"error-404",children:[Object(b.jsx)("div",{className:"background"}),Object(b.jsxs)("div",{className:"error-text",children:[Object(b.jsx)("h2",{children:"Error 404"}),Object(b.jsx)("p",{children:"The page does not exist!"})]})]})}n(55);function P(){return Object(b.jsxs)("div",{className:"loginError",children:[Object(b.jsxs)("h2",{children:["Welcome to",Object(b.jsx)("br",{})," Expense Tracker"]}),Object(b.jsx)("p",{children:"This app is for those who like to keep track of what they spent their money on"}),Object(b.jsx)("p",{children:"Please Login to use"})]})}n(56);function T(){return Object(b.jsx)("div",{className:"loadingScreen",children:Object(b.jsx)("span",{className:"icon",children:Object(b.jsx)(x.a,{})})})}n(57);function k(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useMemo)((function(){return{dateRange:n,setDateRange:s}}),[n]);return Object(b.jsx)("div",{className:"expense-tracker",children:Object(b.jsxs)(u.a.Provider,{value:a,children:[Object(b.jsx)(I,{}),Object(b.jsx)("section",{className:"transactions",children:Object(b.jsx)(m.a,{filterFn:n})})]})})}function I(){var e=new Date,t=Object(c.useState)(Object(v.a)(e)),n=Object(r.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)(Object(v.a)(e)),_=Object(r.a)(i,2),o=_[0],l=_[1],j=Object(v.a)(e),O=Object(c.useContext)(u.a).setDateRange;return Object(b.jsxs)("section",{className:"dateRange",children:[Object(b.jsx)("p",{children:"Select Date Range"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new Date(s).getTime(),n=new Date(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Date(e);return n.setDate(n.getDate()+t),n.getTime()}(o,1)).getTime();console.log("start: ".concat(s,"\nend: ").concat(o)),O("(tr) => ".concat(t," < tr.created && tr.created < ").concat(n))},children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"Star Date:"}),Object(b.jsx)("input",{type:"date",value:s,onChange:function(e){return a(e.target.value)},max:o})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"End Date:"}),Object(b.jsx)("input",{type:"date",value:o,onChange:function(e){return l(e.target.value)},min:s,max:j})]}),Object(b.jsx)("button",{className:"primary",type:"submit",children:"Select Date"})]})]})}var w=n(9);n(58);n(59);function A(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(r.a)(a,2),l=i[0],j=i[1],O=Object(c.useState)(!0),d=Object(r.a)(O,2),m=d[0],h=d[1],p=Object(c.useContext)(u.c),f=p.login,E=p.setLogin,v=Object(c.useContext)(u.d).setMenuToggle;function g(e){e.preventDefault();var t=function(e){var t=e.username;return e.password,t}({username:n,password:l});t?(h(!0),E(!1),o("__login",[{userName:n}])):h(!1)}var C=function(){o("__login",[]),E(!0)};return f?Object(b.jsxs)("div",{className:"loginInner loginBox",children:[Object(b.jsx)("h2",{children:"Login"}),Object(b.jsx)("span",{className:"error",children:!m&&"Username/password invalid"}),Object(b.jsxs)("form",{onSubmit:g,children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"User name:"}),Object(b.jsx)("input",{name:"username",type:"text",value:n,onChange:function(e){s(e.target.value),h(!0)},autoFocus:!0})]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("span",{children:"Password:"}),Object(b.jsx)("input",{name:"password",type:"password",value:l,onChange:function(e){j(e.target.value),h(!0)}})]}),Object(b.jsx)("button",{type:"submit",className:"primary",children:"Login"})]})]}):function(){var e,t=null===(e=_("__login")[0])||void 0===e?void 0:e.userName;return Object(b.jsxs)("div",{className:"loginInner",children:[Object(b.jsx)("h2",{children:"Profile"}),Object(b.jsxs)("p",{children:["User: ",t]}),Object(b.jsxs)("div",{className:"buttons",children:[Object(b.jsx)(w.b,{to:"/",onClick:v,children:Object(b.jsxs)("button",{type:"button",className:"neutral",children:[Object(b.jsx)("span",{className:"button-icon",children:Object(b.jsx)(x.d,{})}),"All Transactions"]})}),Object(b.jsx)(w.b,{to:"/monthly-transactions",onClick:v,children:Object(b.jsxs)("button",{type:"button",className:"neutral",children:[Object(b.jsx)("span",{className:"button-icon",children:Object(b.jsx)(x.f,{})}),"Transactions by month"]})}),Object(b.jsxs)("button",{type:"button",onClick:C,className:"neutral",children:[Object(b.jsx)("span",{className:"button-icon",children:Object(b.jsx)(x.c,{style:{transform:"rotate(180deg)"}})}),"Logout"]})]}),Object(b.jsxs)("span",{className:"version",children:["version: ","0.1.3"]})]})}()}function L(){var e=Object(c.useContext)(u.c).login,t=Object(c.useReducer)((function(e){return!e}),!0),n=Object(r.a)(t,2),s=n[0],a=n[1],i=Object(c.useMemo)((function(){return{menuOpened:s,setMenuToggle:a}}),[s]);return Object(c.useEffect)((function(){a()}),[e]),Object(b.jsxs)("header",{children:[Object(b.jsx)("h1",{className:"title",children:Object(b.jsx)(w.b,{to:"/",children:"Expense Tracker"})}),Object(b.jsxs)("div",{className:"login-container",children:[e&&Object(b.jsx)("button",{className:"register-button neutral",children:"Register"}),Object(b.jsxs)("button",{className:"login-button primary",onClick:a,children:[Object(b.jsx)("span",{className:"button-icon",children:Object(b.jsx)(x.i,{})}),e?"Login":"Profile"]}),Object(b.jsx)(u.d.Provider,{value:i,children:s&&Object(b.jsx)(A,{})})]})]})}function R(){return Object(b.jsx)("footer",{})}var U=function(){var e,t=null===(e=_("__login")[0])||void 0===e?void 0:e.userName,n=Object(c.useState)(!t),s=Object(r.a)(n,2),a=s[0],o=s[1],l=Object(c.useState)(!0),j=Object(r.a)(l,2),O=j[0],d=j[1],x=Object(c.useState)(_(t)),m=Object(r.a)(x,2),h=m[0],p=m[1],f=Object(c.useMemo)((function(){return{transactions:h,setTransactions:p}}),[h]),E=Object(c.useMemo)((function(){return{login:a,setLogin:o}}),[a]);return Object(c.useEffect)((function(){setTimeout((function(){d(!1)}),1e3)}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"Background"}),Object(b.jsxs)("div",{className:"App",children:[O&&Object(b.jsx)(T,{}),Object(b.jsxs)(u.c.Provider,{value:E,children:[Object(b.jsx)(L,{}),Object(b.jsx)("main",{children:Object(b.jsxs)(i.d,{children:[a&&Object(b.jsx)(P,{}),Object(b.jsx)(i.a,{exact:!0,from:"/",to:"/home"}),Object(b.jsxs)(u.b.Provider,{value:f,children:[Object(b.jsx)(i.b,{path:"/home",children:a?Object(b.jsx)(P,{}):Object(b.jsx)(M,{})}),Object(b.jsx)(i.b,{path:"/monthly-transactions",children:Object(b.jsx)(k,{})})]}),Object(b.jsx)(i.b,{path:"*",children:Object(b.jsx)(N,{})})]})}),Object(b.jsx)(R,{})]})]})]})};n(66).config(),a.a.render(Object(b.jsx)(w.a,{children:Object(b.jsx)(U,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.e2803660.chunk.js.map