{"version":3,"sources":["components/TransactionsList.js","components/_globalContext.js","resources/scss/Balance.module.scss","resources/scss/NewTransaction.module.scss","components/Store.js","components/Balance.js","components/Watcher.js","components/Transactions.js","components/NewTransaction.js","components/Home.js","components/Error404.js","components/LoginError.js","components/LoadingScreen.js","components/MonthlyTransactions.js","components/Login.js","components/permissions.js","components/HeaderFooter.js","App.js","index.js","Utilities.js"],"names":["TransactionsList","editable","filterFn","useContext","GlobalTransactions","transactions","setTransactions","newTransactions","filter","eval","deleteItem","currentTransaction","transaction","className","map","date","dateString","created","amount","title","onClick","id","createContext","LoggedIn","loggedIn","setLoggedIn","MenuOpener","menuOpened","setMenuToggle","DateRangeFn","dateRange","setDateRange","module","exports","loadStore","userName","_store","localStorage","getItem","JSON","parse","saveStore","setItem","stringify","Balance","total","reduce","style","total__amount","Watcher","income","expense","forEach","tr","getIncomeExpense","Transactions","useReducer","setEditable","length","NewTransaction","useState","setTitle","setAmount","open","isOpen","toggleOpener","addNewItem","type","shouldCloseOnOverlayClick","shouldCloseOnEsc","onRequestClose","ariaHideApp","overlay","backgroundColor","content","position","left","top","transform","background","borderRadius","border","outline","padding","width","maxWidth","boxSizing","onSubmit","event","preventDefault","_amount","parseInt","data","uniqueNumber","Date","getTime","autoFocus","placeholder","name","value","onChange","e","target","Home","useEffect","Error404","LoginError","LoadingScreen","MonthlyTransactions","dateRangeValue","useMemo","Provider","DateRange","todayPlusDay","startDate","setStartDate","endDate","setEndDate","maxEnd","number","setDate","getDate","console","log","start","end","max","min","Login","username","setUsername","password","setPassword","valid","setValid","login","setLogin","submitLogin","isValid","checkPermission","submitLogout","to","process","profilePage","Header","opener","menuOpenerValues","Footer","App","loading","setLoading","transactionValues","loginValues","setTimeout","exact","from","path","require","config","ReactDOM","render","document","getElementById","getFullYear","toTwoDigit","getMonth","getHours","getMinutes","getSeconds","digit","_date","format","year","month","day","replace"],"mappings":"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","file":"static/js/main.b6c98f27.chunk.js","sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { dateString } from \"../Utilities\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\nimport \"../resources/scss/TransactionsList.scss\";\r\nimport { BiTrashAlt } from \"react-icons/bi\";\r\n\r\nexport default function TransactionsList({ editable = false, filterFn }) {\r\n  const { transactions, setTransactions } = useContext(GlobalTransactions);\r\n\r\n  const newTransactions = filterFn\r\n    ? transactions.filter(eval(filterFn))\r\n    : transactions;\r\n  function deleteItem(currentTransaction) {\r\n    const newTransactions = [...transactions].filter(\r\n      (transaction) => transaction !== currentTransaction\r\n    );\r\n    setTransactions([...newTransactions]);\r\n  }\r\n\r\n  return (\r\n    <ul className=\"transactions__list\">\r\n      {filterFn !== null &&\r\n        newTransactions.map((transaction) => {\r\n          const date = dateString(transaction.created);\r\n          return (\r\n            <li\r\n              key={transaction.id}\r\n              className={transaction.amount < 0 ? \"negative\" : \"positive\"}\r\n            >\r\n              <span className={\"trans_date\"}>{date}</span>\r\n              <span className={\"trans_title\"}>{transaction.title}</span>\r\n              <span className={\"trans_amount\"}>{transaction.amount}</span>\r\n              {editable && (\r\n                <>\r\n                  <button\r\n                    className={\"trans_delete\"}\r\n                    onClick={() => deleteItem(transaction)}\r\n                  >\r\n                    Delete <BiTrashAlt />\r\n                  </button>\r\n                </>\r\n              )}\r\n            </li>\r\n          );\r\n        })}\r\n    </ul>\r\n  );\r\n}\r\n","import { createContext } from \"react\";\r\n\r\nexport const GlobalTransactions = createContext({\r\n  transactions: [],\r\n  setTransactions: () => {},\r\n});\r\n\r\nexport const LoggedIn = createContext({\r\n  loggedIn: false,\r\n  setLoggedIn: () => {},\r\n});\r\n\r\nexport const MenuOpener = createContext({\r\n  menuOpened: false,\r\n  setMenuToggle: () => {},\r\n});\r\n\r\nexport const DateRangeFn = createContext({\r\n  dateRange: \"\",\r\n  setDateRange: () => {},\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"total\":\"Balance_total__2uVBj\",\"total__amount\":\"Balance_total__amount__3G5j7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addNewItem\":\"NewTransaction_addNewItem__OT3ii\"};","export function loadStore(userName) {\r\n  const _store = localStorage.getItem(userName);\r\n  if (!_store) return [];\r\n  return JSON.parse(_store);\r\n}\r\n\r\nexport function saveStore(userName, _store) {\r\n  localStorage.setItem(userName, JSON.stringify(_store));\r\n}\r\n","import style from \"../resources/scss/Balance.module.scss\";\r\nimport { useContext } from \"react\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\n\r\nexport default function Balance() {\r\n  const { transactions } = useContext(GlobalTransactions);\r\n  const total = transactions.reduce(\r\n    (total, transaction) => total + transaction.amount,\r\n    0\r\n  );\r\n\r\n  return (\r\n    <section className={style.total}>\r\n      <p className=\"section-title\">Total balance:</p>\r\n      <p className={style.total__amount}>{total}</p>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\nimport \"../resources/scss/Watcher.scss\";\r\n\r\nexport default function Watcher() {\r\n  const { transactions } = useContext(GlobalTransactions);\r\n\r\n  function getIncomeExpense() {\r\n    let income = 0;\r\n    let expense = 0;\r\n    transactions.forEach((tr) => {\r\n      if (tr.amount > 0) {\r\n        income += tr.amount;\r\n      } else {\r\n        expense -= tr.amount;\r\n      }\r\n    });\r\n    return [income, expense];\r\n  }\r\n\r\n  const [income, expense] = getIncomeExpense();\r\n\r\n  return (\r\n    <section className=\"watcher\">\r\n      <div className=\"watcher__container\">\r\n        <div>\r\n          <span>Income</span>\r\n          <span className=\"amount income\">{income}</span>\r\n        </div>\r\n        <div>\r\n          <span>Expense</span>\r\n          <span className=\"amount expense\">{expense}</span>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useReducer, useContext } from \"react\";\r\nimport { BiEdit, BiSave, BiTrash } from \"react-icons/bi\";\r\nimport \"../resources/scss/Transactions.scss\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\n\r\nimport TransactionsList from \"./TransactionsList\";\r\n\r\nexport default function Transactions() {\r\n  const [editable, setEditable] = useReducer((editable) => !editable);\r\n\r\n  function clearAll() {\r\n    setTransactions([]);\r\n    setEditable();\r\n  }\r\n  const { transactions, setTransactions } = useContext(GlobalTransactions);\r\n\r\n  return (\r\n    <section className=\"transactions\">\r\n      <div className=\"transactions__header\">\r\n        <p className=\"section-title\">Transactions</p>\r\n        <div className=\"trans_buttons\">\r\n          {transactions.length > 0 &&\r\n            (editable && transactions.length > 0 ? (\r\n              <>\r\n                <button\r\n                  title=\"Clear All\"\r\n                  className=\"trans_save\"\r\n                  onClick={clearAll}\r\n                >\r\n                  Clear All <BiTrash />\r\n                </button>\r\n                <button\r\n                  title=\"Save\"\r\n                  className=\"trans_save\"\r\n                  onClick={setEditable}\r\n                >\r\n                  Save <BiSave />\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <button\r\n                  title=\"Edit\"\r\n                  className=\"trans_edit\"\r\n                  onClick={setEditable}\r\n                >\r\n                  Edit\r\n                  <BiEdit />\r\n                </button>\r\n              </>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      <TransactionsList editable={editable} />\r\n    </section>\r\n  );\r\n}\r\n","import { useState, useContext, useReducer } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { uniqueNumber } from \"../Utilities\";\r\nimport style from \"../resources/scss/NewTransaction.module.scss\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\n\r\nexport default function NewTransaction() {\r\n  let [title, setTitle] = useState(\"\");\r\n  let [amount, setAmount] = useState(\"\");\r\n\r\n  const { transactions, setTransactions } = useContext(GlobalTransactions);\r\n  const [isOpen, toggleOpener] = useReducer((open) => !open, false);\r\n\r\n  function addToTransactions(event) {\r\n    event.preventDefault();\r\n    if (!title || !amount) return;\r\n    const _amount = parseInt(amount, 10);\r\n    const data = {\r\n      id: uniqueNumber(),\r\n      title,\r\n      amount: _amount,\r\n      created: new Date().getTime(),\r\n    };\r\n\r\n    setTitle(\"\");\r\n    setAmount(\"\");\r\n    setTransactions([...transactions, data]);\r\n    toggleOpener();\r\n  }\r\n\r\n  return (\r\n    <section className={style.addNewItem}>\r\n      <button className=\"primary\" type=\"submit\" onClick={toggleOpener}>\r\n        Add new item\r\n      </button>\r\n      <Modal\r\n        isOpen={isOpen}\r\n        shouldCloseOnOverlayClick={true}\r\n        shouldCloseOnEsc={true}\r\n        onRequestClose={toggleOpener}\r\n        className={style.addNewItem}\r\n        ariaHideApp={false}\r\n        style={{\r\n          overlay: {\r\n            backgroundColor: \"rgba(238, 238, 238, 0.7)\",\r\n          },\r\n          content: {\r\n            position: \"absolute\",\r\n            left: \"50%\",\r\n            top: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            background: \"#282828\",\r\n            borderRadius: \"5px\",\r\n            border: \"1px solid #424242\",\r\n            outline: \"none\",\r\n            padding: \"20px\",\r\n            width: \"calc(100% - 30px)\",\r\n            maxWidth: \"400px\",\r\n            boxSizing: \"border-box\",\r\n          },\r\n        }}\r\n      >\r\n        <p className=\"section-title\">Add new item</p>\r\n        <form onSubmit={addToTransactions}>\r\n          <label>\r\n            <span>Title:</span>\r\n            <input\r\n              autoFocus={true}\r\n              placeholder=\"Item name\"\r\n              name=\"title\"\r\n              type=\"text\"\r\n              value={title}\r\n              onChange={(e) => {\r\n                setTitle(e.target.value);\r\n              }}\r\n            />\r\n          </label>\r\n          <label>\r\n            <span>Amount:</span>\r\n            <input\r\n              placeholder=\"Item cost\"\r\n              name=\"amount\"\r\n              type=\"number\"\r\n              value={amount}\r\n              onChange={(e) => {\r\n                setAmount(e.target.value);\r\n              }}\r\n            />\r\n          </label>\r\n          <button className=\"primary\" type=\"submit\">\r\n            Add to list\r\n          </button>\r\n        </form>\r\n      </Modal>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useEffect, useContext } from \"react\";\r\n\r\nimport { loadStore, saveStore } from \"./Store\";\r\nimport Balance from \"./Balance\";\r\nimport Watcher from \"./Watcher\";\r\nimport Transactions from \"./Transactions\";\r\nimport NewTransaction from \"./NewTransaction\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\nimport \"../resources/scss/Home.scss\";\r\n\r\nexport default function Home() {\r\n  const userName = loadStore(\"__login\")[0]?.userName;\r\n\r\n  const { transactions } = useContext(GlobalTransactions);\r\n\r\n  useEffect(() => {\r\n    saveStore(userName, transactions);\r\n  }, [transactions, userName]);\r\n\r\n  return (\r\n    <div className=\"expense-tracker\">\r\n      <Balance />\r\n      <Watcher />\r\n      <Transactions />\r\n      <NewTransaction />\r\n    </div>\r\n  );\r\n}\r\n","import \"../resources/scss/Error404.scss\";\r\n\r\nexport default function Error404() {\r\n  return (\r\n    <div className=\"error-404\">\r\n      <div className=\"background\"></div>\r\n      <div className=\"error-text\">\r\n        <h2>Error 404</h2>\r\n        <p>The page does not exist!</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"../resources/scss/LoginError.scss\";\r\n\r\nexport default function LoginError() {\r\n  return (\r\n    <div className=\"loginError\">\r\n      <h2>\r\n        Welcome to\r\n        <br /> Expense Tracker\r\n      </h2>\r\n      <p>\r\n        This app is for those who like to keep track of what they spent their\r\n        money on\r\n      </p>\r\n      <p>Please Login to use</p>\r\n    </div>\r\n  );\r\n}\r\n","import \"../resources/scss/LoadingScreen.scss\";\r\nimport { BiDollarCircle } from \"react-icons/bi\";\r\n\r\nexport default function LoadingScreen() {\r\n  return (\r\n    <div className=\"loadingScreen\">\r\n      <span className=\"icon\">\r\n        <BiDollarCircle />\r\n      </span>\r\n      {/* <h2>Loading</h2> */}\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useMemo, useState } from \"react\";\r\nimport { GlobalTransactions } from \"./_globalContext\";\r\nimport { dateString } from \"../Utilities\";\r\nimport \"../resources/scss/MonthlyTransactions.scss\";\r\nimport { DateRangeFn } from \"./_globalContext\";\r\nimport TransactionsList from \"./TransactionsList\";\r\n\r\nexport default function MonthlyTransactions() {\r\n  const { transactions } = useContext(GlobalTransactions);\r\n\r\n  const [dateRange, setDateRange] = useState(null);\r\n\r\n  const dateRangeValue = useMemo(\r\n    () => ({ dateRange, setDateRange }),\r\n    [dateRange]\r\n  );\r\n\r\n  return (\r\n    <div className=\"expense-tracker\">\r\n      <DateRangeFn.Provider value={dateRangeValue}>\r\n        <DateRange />\r\n        <section className=\"transactions\">\r\n          <TransactionsList filterFn={dateRange} />\r\n        </section>\r\n      </DateRangeFn.Provider>\r\n    </div>\r\n  );\r\n}\r\nfunction DateRange() {\r\n  const [startDate, setStartDate] = useState(dateString(todayPlusDay()));\r\n  const [endDate, setEndDate] = useState(dateString(todayPlusDay(1)));\r\n  const maxEnd = dateString(todayPlusDay(1));\r\n\r\n  const { setDateRange } = useContext(DateRangeFn);\r\n\r\n  function todayPlusDay(number = 0) {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() + number);\r\n    return dateString(date.getTime());\r\n  }\r\n\r\n  function selectDateRange(event) {\r\n    event.preventDefault();\r\n    console.log(`start: ${startDate}\\nend: ${endDate}`);\r\n    const start = new Date(startDate).getTime();\r\n    const end = new Date(endDate).getTime();\r\n    setDateRange(`(tr) => ${start} < tr.created && tr.created < ${end}`);\r\n  }\r\n\r\n  return (\r\n    <section className=\"dateRange\">\r\n      <p>Select Date Range</p>\r\n      <form onSubmit={selectDateRange}>\r\n        <label>\r\n          <span>Star Date:</span>\r\n          <input\r\n            type=\"date\"\r\n            value={startDate}\r\n            onChange={(e) => setStartDate(e.target.value)}\r\n            max={endDate}\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>End Date:</span>\r\n          <input\r\n            type=\"date\"\r\n            value={endDate}\r\n            onChange={(e) => setEndDate(e.target.value)}\r\n            min={startDate}\r\n            max={maxEnd}\r\n          />\r\n        </label>\r\n        <button className=\"primary\" type=\"submit\">\r\n          Select Date\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport { loadStore, saveStore } from \"./Store\";\r\nimport { checkPermission } from \"./permissions\";\r\nimport \"../resources/scss/Login.scss\";\r\nimport { LoggedIn } from \"./_globalContext\";\r\nimport { BiLogOut, BiMoney, BiTimeFive } from \"react-icons/bi\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MenuOpener } from \"./_globalContext\";\r\n\r\nexport default function Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [valid, setValid] = useState(true);\r\n\r\n  const { login, setLogin } = useContext(LoggedIn);\r\n  const { setMenuToggle } = useContext(MenuOpener);\r\n\r\n  function submitLogin(event) {\r\n    event.preventDefault();\r\n    const isValid = checkPermission({ username, password });\r\n    if (isValid) {\r\n      setValid(true);\r\n      setLogin(false);\r\n      saveStore(\"__login\", [{ userName: username }]);\r\n    } else {\r\n      setValid(false);\r\n    }\r\n  }\r\n\r\n  const submitLogout = () => {\r\n    saveStore(\"__login\", []);\r\n    setLogin(true);\r\n  };\r\n  function loginPage() {\r\n    return (\r\n      <div className=\"loginInner loginBox\">\r\n        <h2>Login</h2>\r\n        <span className=\"error\">{!valid && \"Username/password invalid\"}</span>\r\n        <form onSubmit={submitLogin}>\r\n          <label>\r\n            <span>User name:</span>\r\n            <input\r\n              name=\"username\"\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={(e) => {\r\n                setUsername(e.target.value);\r\n                setValid(true);\r\n              }}\r\n              autoFocus={true}\r\n            />\r\n          </label>\r\n          <label>\r\n            <span>Password:</span>\r\n            <input\r\n              name=\"password\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => {\r\n                setPassword(e.target.value);\r\n                setValid(true);\r\n              }}\r\n            />\r\n          </label>\r\n          <button type=\"submit\" className=\"primary\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function profilePage() {\r\n    const userName = loadStore(\"__login\")[0]?.userName;\r\n\r\n    return (\r\n      <div className=\"loginInner\">\r\n        <h2>Profile</h2>\r\n        <p>User: {userName}</p>\r\n        <div className=\"buttons\">\r\n          <Link to=\"/\" onClick={setMenuToggle}>\r\n            <button type=\"button\" className=\"neutral\">\r\n              <span className=\"button-icon\">\r\n                <BiMoney />\r\n              </span>\r\n              All Transactions\r\n            </button>\r\n          </Link>\r\n          <Link to=\"/monthly-transactions\" onClick={setMenuToggle}>\r\n            <button type=\"button\" className=\"neutral\">\r\n              <span className=\"button-icon\">\r\n                <BiTimeFive />\r\n              </span>\r\n              Transactions by month\r\n            </button>\r\n          </Link>\r\n          <button type=\"button\" onClick={submitLogout} className=\"neutral\">\r\n            <span className=\"button-icon\">\r\n              <BiLogOut style={{ transform: \"rotate(180deg)\" }} />\r\n            </span>\r\n            Logout\r\n          </button>\r\n        </div>\r\n        <span className=\"version\">\r\n          version: {process.env.REACT_APP_VERSION}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n  return !login ? profilePage() : loginPage();\r\n}\r\n","export function checkPermission({ username, password }) {\r\n  return username;\r\n}\r\n","import React, { useEffect, useReducer, useContext, useMemo } from \"react\";\r\nimport { BiUser as ProfileIcon } from \"react-icons/bi\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../resources/scss/HeaderFooter.scss\";\r\nimport Login from \"./Login\";\r\nimport { LoggedIn } from \"./_globalContext\";\r\nimport { MenuOpener } from \"./_globalContext\";\r\n\r\nexport function Header() {\r\n  const { login } = useContext(LoggedIn);\r\n\r\n  const [menuOpened, setMenuToggle] = useReducer((opener) => !opener, true);\r\n  const menuOpenerValues = useMemo(\r\n    () => ({ menuOpened, setMenuToggle }),\r\n    [menuOpened]\r\n  );\r\n\r\n  useEffect(() => {\r\n    setMenuToggle();\r\n  }, [login]);\r\n\r\n  return (\r\n    <header>\r\n      <h1 className=\"title\">\r\n        <Link to=\"/\">Expense Tracker</Link>\r\n      </h1>\r\n      <div className=\"login-container\">\r\n        {login && <button className=\"register-button neutral\">Register</button>}\r\n        <button className=\"login-button primary\" onClick={setMenuToggle}>\r\n          <span className=\"button-icon\">\r\n            <ProfileIcon />\r\n          </span>\r\n          {login ? \"Login\" : \"Profile\"}\r\n        </button>\r\n        <MenuOpener.Provider value={menuOpenerValues}>\r\n          {menuOpened && <Login />}\r\n        </MenuOpener.Provider>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\nexport function Footer() {\r\n  return <footer></footer>;\r\n}\r\n","import { useState, useMemo, useEffect } from \"react\";\r\nimport \"./resources/scss/App.scss\";\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\nimport Home from \"./components/Home\";\r\nimport Error404 from \"./components/Error404\";\r\nimport LoginError from \"./components/LoginError\";\r\nimport LoadingScreen from \"./components/LoadingScreen\";\r\nimport MonthlyTransactions from \"./components/MonthlyTransactions\";\r\nimport { Header, Footer } from \"./components/HeaderFooter\";\r\nimport { loadStore } from \"./components/Store\";\r\nimport { GlobalTransactions, LoggedIn } from \"./components/_globalContext\";\r\n\r\nfunction App() {\r\n  const userName = loadStore(\"__login\")[0]?.userName;\r\n  const [login, setLogin] = useState(!userName);\r\n  const [loading, setLoading] = useState(true);\r\n  const [transactions, setTransactions] = useState(loadStore(userName));\r\n\r\n  const transactionValues = useMemo(\r\n    () => ({ transactions, setTransactions }),\r\n    [transactions]\r\n  );\r\n\r\n  const loginValues = useMemo(() => ({ login, setLogin }), [login]);\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 1000);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"Background\"></div>\r\n      <div className=\"App\">\r\n        {loading && <LoadingScreen />}\r\n        <LoggedIn.Provider value={loginValues}>\r\n          <Header />\r\n          <main>\r\n            <Switch>\r\n              {login && <LoginError />}\r\n              <Redirect exact from=\"/\" to=\"/home\" />\r\n              <GlobalTransactions.Provider value={transactionValues}>\r\n                <Route path=\"/home\">{login ? <LoginError /> : <Home />}</Route>\r\n                <Route path=\"/monthly-transactions\">\r\n                  <MonthlyTransactions />\r\n                </Route>\r\n              </GlobalTransactions.Provider>\r\n              <Route path=\"*\">\r\n                <Error404 />\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n          <Footer />\r\n        </LoggedIn.Provider>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\nrequire(\"dotenv\").config();\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n","export function uniqueNumber() {\r\n  const date = new Date();\r\n  const str = `${date.getFullYear()}${toTwoDigit(\r\n    date.getMonth() + 1\r\n  )}${toTwoDigit(date.getDate())}_${toTwoDigit(date.getHours())}${toTwoDigit(\r\n    date.getMinutes()\r\n  )}${toTwoDigit(date.getSeconds())}`;\r\n  return str;\r\n}\r\nexport function toTwoDigit(digit) {\r\n  if (digit < 10) return `0${digit}`;\r\n  return `${digit}`;\r\n}\r\nexport function dateString(_date, format) {\r\n  const date = new Date(_date);\r\n  const [year, month, day] = [\r\n    toTwoDigit(date.getFullYear()),\r\n    toTwoDigit(date.getMonth() + 1),\r\n    toTwoDigit(date.getDate()),\r\n  ];\r\n  if (format)\r\n    return format\r\n      .replace(/y/i, `${year}`)\r\n      .replace(/m/i, `${month}`)\r\n      .replace(/d/i, `${day}`);\r\n  return `${year}-${month}-${day}`;\r\n}\r\n"],"sourceRoot":""}