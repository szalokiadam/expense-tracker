(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{19:function(e,t,n){e.exports={total:"Balance_total__2uVBj",total__amount:"Balance_total__amount__3G5j7"}},23:function(e,t,n){e.exports={addNewItem:"NewTransaction_addNewItem__OT3ii"}},30:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(22),a=n.n(c),r=n(4),i=(n(30),n(3));function o(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]}function j(e,t){localStorage.setItem(e,JSON.stringify(t))}var l=n(19),u=n.n(l),b=Object(s.createContext)({transactions:[],setTransactions:function(){}}),d=Object(s.createContext)({loggedIn:!1,setLoggedIn:function(){}}),O=n(0);function x(){var e=Object(s.useContext)(b).transactions.reduce((function(e,t){return e+t.amount}),0);return Object(O.jsxs)("section",{className:u.a.total,children:[Object(O.jsx)("p",{className:"section-title",children:"Total balance:"}),Object(O.jsx)("p",{className:u.a.total__amount,children:e})]})}n(32);function h(){var e=Object(s.useContext)(b).transactions;var t=function(){var t=0,n=0;return e.forEach((function(e){e.amount>0?t+=e.amount:n-=e.amount})),[t,n]}(),n=Object(r.a)(t,2),c=n[0],a=n[1];return Object(O.jsx)("section",{className:"watcher",children:Object(O.jsxs)("div",{className:"watcher__container",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Income"}),Object(O.jsx)("span",{className:"amount income",children:c})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Expense"}),Object(O.jsx)("span",{className:"amount expense",children:a})]})]})})}var m=n(12),_=n(7),p=n(6),f=n.n(p);function v(){var e=Object(s.useReducer)((function(e){return!e})),t=Object(r.a)(e,2),n=t[0],c=t[1];var a=Object(s.useContext)(b),i=a.transactions,o=a.setTransactions;return Object(O.jsxs)("section",{className:f.a.transactions,children:[Object(O.jsxs)("div",{className:f.a.transactions__header,children:[Object(O.jsx)("p",{className:"section-title",children:"Transactions"}),Object(O.jsx)("div",{className:f.a.trans_buttons,children:i.length>0&&(n&&i.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("button",{title:"Clear All",className:f.a.trans_save,onClick:function(){o([]),c()},children:["Clear All ",Object(O.jsx)(_.g,{})]}),Object(O.jsxs)("button",{title:"Save",className:f.a.trans_save,onClick:c,children:["Save ",Object(O.jsx)(_.e,{})]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("button",{title:"Edit",className:f.a.trans_edit,onClick:c,children:["Edit",Object(O.jsx)(_.b,{})]}),Object(O.jsxs)("button",{title:"New",className:f.a.trans_edit,onClick:function(){},children:["New",Object(O.jsx)(_.c,{})]})]}))})]}),Object(O.jsx)("ul",{className:f.a.transactions__list,children:i.map((function(e){var t=new Date(e.created).toLocaleDateString("en-US");return Object(O.jsxs)("li",{className:e.amount<0?f.a.negative:f.a.positive,children:[Object(O.jsx)("span",{className:f.a.trans_date,children:t}),Object(O.jsx)("span",{className:f.a.trans_title,children:e.title}),Object(O.jsx)("span",{className:f.a.trans_amount,children:e.amount}),n&&Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("button",{className:f.a.trans_delete,onClick:function(){return function(e){var t=Object(m.a)(i).filter((function(t){return t!==e}));o(Object(m.a)(t))}(e)},children:["Delete ",Object(O.jsx)(_.h,{})]})})]},e.id)}))})]})}function g(){var e=new Date;return"".concat(e.getFullYear()).concat(N(e.getMonth()+1)).concat(N(e.getDate()),"_").concat(N(e.getHours())).concat(N(e.getMinutes())).concat(N(e.getSeconds()))}function N(e){return e<10?"0".concat(e):"".concat(e)}var T=n(23),C=n.n(T);function w(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),o=i[0],j=i[1],l=Object(s.useContext)(b),u=l.transactions,d=l.setTransactions;return Object(O.jsxs)("section",{className:C.a.addNewItem,children:[Object(O.jsx)("p",{className:"section-title",children:"Add new item"}),Object(O.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),n&&o){var t=parseInt(o,10),s={id:g(),title:n,amount:t,created:(new Date).getTime()};c(""),j(""),d([].concat(Object(m.a)(u),[s]))}},children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"Title:"}),Object(O.jsx)("input",{placeholder:"Item name",name:"title",type:"text",value:n,onChange:function(e){c(e.target.value)}})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"Amount:"}),Object(O.jsx)("input",{placeholder:"Item cost",name:"amount",type:"number",value:o,onChange:function(e){j(e.target.value)}})]}),Object(O.jsx)("button",{className:"primary",type:"submit",children:"Add new item"})]})]})}n(33);function S(){var e,t=null===(e=o("__login")[0])||void 0===e?void 0:e.userName,n=Object(s.useState)(o(t)),c=Object(r.a)(n,2),a=c[0],i=c[1],l=Object(s.useMemo)((function(){return{transactions:a,setTransactions:i}}),[a]);return Object(s.useEffect)((function(){j(t,a)}),[a,t]),Object(O.jsx)("div",{className:"expense-tracker",children:Object(O.jsxs)(b.Provider,{value:l,children:[Object(O.jsx)(x,{}),Object(O.jsx)(h,{}),Object(O.jsx)(v,{}),Object(O.jsx)(w,{})]})})}n(34);function k(){return Object(O.jsx)("div",{className:"error-404",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Error 404"}),Object(O.jsx)("p",{children:"The page does not exist!"})]})})}n(35);function y(){return Object(O.jsxs)("div",{className:"loginError",children:[Object(O.jsxs)("h2",{children:["Welcome to",Object(O.jsx)("br",{})," Expense Tracker"]}),Object(O.jsx)("p",{children:"This app is for those who like to keep track of what they spent their money on"}),Object(O.jsx)("p",{children:"Please Login to use"})]})}n(36);function I(){return Object(O.jsx)("div",{className:"loadingScreen",children:Object(O.jsx)("span",{className:"icon",children:Object(O.jsx)(_.a,{})})})}n(37);n(38);function E(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),l=i[0],u=i[1],b=Object(s.useState)(!0),x=Object(r.a)(b,2),h=x[0],m=x[1],p=Object(s.useContext)(d),f=p.login,v=p.setLogin;function g(e){e.preventDefault();var t=function(e){var t=e.username,n=e.password;return t&&n}({username:n,password:l});t?(m(!0),v(!1),j("__login",[{userName:n}])):m(!1)}var N=function(){j("__login",[]),v(!0)};return f?Object(O.jsxs)("div",{className:"loginInner loginBox",children:[Object(O.jsx)("h2",{children:"Login"}),Object(O.jsx)("span",{className:"error",children:!h&&"Username/password invalid"}),Object(O.jsxs)("form",{onSubmit:g,children:[Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"User name:"}),Object(O.jsx)("input",{name:"username",type:"text",value:n,onChange:function(e){c(e.target.value),m(!0)},autoFocus:!0,autoComplete:!1})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)("span",{children:"Password:"}),Object(O.jsx)("input",{name:"password",type:"password",value:l,onChange:function(e){u(e.target.value),m(!0)}})]}),Object(O.jsx)("button",{type:"submit",className:"primary",children:"Login"})]})]}):function(){var e,t=null===(e=o("__login")[0])||void 0===e?void 0:e.userName;return Object(O.jsxs)("div",{className:"loginInner",children:[Object(O.jsx)("h2",{children:"Profile"}),Object(O.jsxs)("p",{children:["User: ",t]}),Object(O.jsxs)("div",{className:"buttons",children:[Object(O.jsxs)("button",{type:"button",className:"neutral",children:[Object(O.jsx)("span",{className:"button-icon",children:Object(O.jsx)(_.f,{})}),"Transactions by month"]}),Object(O.jsxs)("button",{type:"button",onClick:N,className:"neutral",children:[Object(O.jsx)("span",{className:"button-icon",children:Object(O.jsx)(_.d,{style:{transform:"rotate(180deg)"}})}),"Logout"]})]})]})}()}function L(){var e=Object(s.useReducer)((function(e){return!e}),!0),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useContext)(d).login;return Object(s.useEffect)((function(){c()}),[a]),Object(O.jsxs)("header",{children:[Object(O.jsx)("h1",{className:"title",children:"Expense Tracker"}),Object(O.jsxs)("div",{className:"login-container",children:[a&&Object(O.jsx)("button",{className:"register-button neutral",children:"Register"}),Object(O.jsxs)("button",{className:"login-button primary",onClick:c,children:[Object(O.jsx)("span",{className:"button-icon",children:Object(O.jsx)(_.i,{})}),a?"Login":"Profile"]}),n&&Object(O.jsx)(E,{})]})]})}function D(){return Object(O.jsx)("footer",{children:Object(O.jsxs)("p",{children:["Copyright: szalokia [","0.1.2","]"]})})}var P=function(){var e=Object(s.useState)(!o("__login")[0]),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!0),j=Object(r.a)(a,2),l=j[0],u=j[1],b=Object(s.useMemo)((function(){return{login:n,setLogin:c}}),[n]);return Object(s.useEffect)((function(){setTimeout((function(){u(!1)}),1e3)}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"Background"}),Object(O.jsxs)("div",{className:"App",children:[l&&Object(O.jsx)(I,{}),Object(O.jsxs)(d.Provider,{value:b,children:[Object(O.jsx)(L,{}),Object(O.jsx)("main",{children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.a,{exact:!0,from:"/",to:"/home"}),Object(O.jsx)(i.b,{path:"/home",children:n?Object(O.jsx)(y,{}):Object(O.jsx)(S,{})}),Object(O.jsx)(i.b,{path:"*",children:n?Object(O.jsx)(y,{}):Object(O.jsx)(k,{})})]})}),Object(O.jsx)(D,{})]})]})]})},A=n(18);n(47).config(),a.a.render(Object(O.jsx)(A.a,{children:Object(O.jsx)(P,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={transactions:"Transactions_transactions__3vaMW",transactions__header:"Transactions_transactions__header__LSoP_",trans_buttons:"Transactions_trans_buttons__iVP9m",trans_edit:"Transactions_trans_edit__1KUhY",trans_save:"Transactions_trans_save__1u0IM",transactions__list:"Transactions_transactions__list__2m749",positive:"Transactions_positive__3q4A4",negative:"Transactions_negative__3q3uO",trans_date:"Transactions_trans_date__2eGc2",trans_title:"Transactions_trans_title__3dooC",trans_amount:"Transactions_trans_amount__3b4il",trans_delete:"Transactions_trans_delete__1q48H"}}},[[51,1,2]]]);
//# sourceMappingURL=main.233b3b9a.chunk.js.map